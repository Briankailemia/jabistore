(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2959],{9618:(e,s,t)=>{Promise.resolve().then(t.bind(t,390))},390:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),a=t(2115),l=t(6046),o=t(8173),c=t.n(o),i=t(3619),n=t(7908),d=t(9663);let x={trending:["AeroBook X15","Lumina One Pro","Creator monitor","GaN dock"],categories:["Laptops & Ultrabooks","Audio & Entertainment","Creator gear"],brands:["AeroBook Labs","Lumina Mobile","PulseGear Audio"]};function u(){let e=(0,l.useSearchParams)(),s=e.get("q")||"",[t,o]=(0,a.useState)(s),[d,u]=(0,a.useState)("products"),[b,v]=(0,a.useState)("relevance"),[j,f]=(0,a.useState)({products:[],categories:[],brands:[]}),[N,y]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),{data:C}=(0,i.Ck)(),{data:S}=(0,i.Ek)();(0,a.useEffect)(()=>{s&&L(s)},[]),(0,a.useEffect)(()=>{let s=e.get("q")||"";s&&s!==t&&(o(s),L(s))},[e]);let L=async e=>{if(e.trim())try{var s;y(!0),k(null);let t=await i.Ay.search(e.trim(),{limit:24}),r=(null==t?void 0:t.products)||(null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.products)||[],a=Array.isArray(C)?C:(null==C?void 0:C.data)||[],l=Array.isArray(S)?S:(null==S?void 0:S.data)||[],o=a.filter(s=>{let t=e.toLowerCase();return s.name.toLowerCase().includes(t)||(s.description||"").toLowerCase().includes(t)}),c=l.filter(s=>{let t=e.toLowerCase();return s.name.toLowerCase().includes(t)||(s.description||"").toLowerCase().includes(t)});f({products:r,categories:o,brands:c}),window.history.replaceState({},"","/search?q=".concat(encodeURIComponent(e.trim())))}catch(e){console.error("Search error:",e),k("Something went wrong while searching. Please try again.")}finally{y(!1)}},A=(0,a.useMemo)(()=>{let e=[...j.products];switch(b){case"price-low":return e.sort((e,s)=>e.price-s.price);case"price-high":return e.sort((e,s)=>s.price-e.price);case"name":return e.sort((e,s)=>e.name.localeCompare(s.name));default:return e}},[j.products,b]),E=j.products.length+j.categories.length+j.brands.length;return(0,r.jsx)("div",{className:"min-h-screen bg-transparent text-white",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-10",children:[(0,r.jsxs)("header",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.trim()&&L(t.trim())},className:"relative",children:[(0,r.jsx)("input",{value:t,onChange:e=>o(e.target.value),placeholder:"Search laptops, phones, creator gear...",className:"w-full bg-slate-900 border border-slate-800 rounded-3xl py-4 pl-12 pr-36 text-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50"}),(0,r.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gradient-to-r from-sky-500 to-blue-500 px-6 py-2 rounded-2xl font-semibold hover:opacity-90",children:"Search"})]}),!t&&(0,r.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-slate-300",children:[(0,r.jsx)(g,{title:"Trending",values:x.trending,onSelect:o}),(0,r.jsx)(g,{title:"Categories",values:x.categories,onSelect:o}),(0,r.jsx)(g,{title:"Brands",values:x.brands,onSelect:o})]})]}),N&&(0,r.jsx)("div",{className:"flex justify-center py-20",children:(0,r.jsx)(n.A,{size:"lg",color:"blue",text:"Searching the catalog"})}),w&&(0,r.jsx)("div",{className:"bg-rose-500/10 border border-rose-500/30 rounded-3xl p-6 text-rose-200",children:w}),!N&&t&&0===E&&!w&&(0,r.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-12 text-center space-y-4",children:[(0,r.jsxs)("p",{className:"text-xl font-semibold",children:["No matches for “",t,"”."]}),(0,r.jsx)("p",{className:"text-slate-400",children:"Try another keyword or explore the curated categories below."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)(c(),{href:"/products",className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-sky-500 to-blue-500 text-white font-semibold",children:"Browse all products"}),(0,r.jsx)(c(),{href:"/categories",className:"px-6 py-3 rounded-2xl border border-slate-700 text-white hover:bg-slate-900",children:"Explore categories"})]})]}),!N&&E>0&&(0,r.jsxs)("section",{className:"space-y-8",children:[(0,r.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-500",children:"Results"}),(0,r.jsxs)("h2",{className:"text-3xl font-semibold mt-1",children:["“",t,"”"]}),(0,r.jsxs)("p",{className:"text-slate-400",children:[E," match",1!==E?"es":""]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 text-sm",children:["products","categories","brands"].map(e=>(0,r.jsx)("button",{onClick:()=>u(e),className:"px-4 py-2 rounded-full border ".concat(d===e?"border-sky-500 text-white bg-sky-500/10":"border-slate-700 text-slate-300"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),j.products.length>0&&"products"===d&&(0,r.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"bg-slate-900 border border-slate-800 rounded-2xl px-4 py-2 text-sm text-white",children:[(0,r.jsx)("option",{value:"relevance",children:"Relevance"}),(0,r.jsx)("option",{value:"name",children:"Name A-Z"}),(0,r.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price-high",children:"Price: High to Low"})]})]}),("products"===d||"products"===d)&&j.products.length>0&&(0,r.jsx)(m,{products:A}),"categories"===d&&j.categories.length>0&&(0,r.jsx)(p,{categories:j.categories}),"brands"===d&&j.brands.length>0&&(0,r.jsx)(h,{brands:j.brands})]})]})})}function m(e){let{products:s}=e;return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{var s,t,a,l;return(0,r.jsx)(c(),{href:"/products/".concat(e.slug||e.id),className:"group block focus-visible:outline-none",children:(0,r.jsxs)("article",{className:"bg-[color:var(--surface-secondary)] border border-white/10 rounded-3xl overflow-hidden transition hover:border-brand-sky/40",children:[(0,r.jsx)("div",{className:"h-48 bg-slate-800 flex items-center justify-center overflow-hidden",children:(null===(t=e.images)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.url)?(0,r.jsx)("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover transition duration-300 group-hover:scale-105"}):(0,r.jsx)("span",{className:"text-slate-500",children:"Image coming soon"})}),(0,r.jsxs)("div",{className:"p-5 space-y-2",children:[(0,r.jsxs)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:[(null===(a=e.brand)||void 0===a?void 0:a.name)||"Dilitech"," \xb7 ",(null===(l=e.category)||void 0===l?void 0:l.name)||"Catalog"]}),(0,r.jsx)("h3",{className:"text-lg font-semibold line-clamp-2 text-white group-hover:text-brand-sky",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-slate-400 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,r.jsx)("p",{className:"text-xl font-semibold text-sky-200",children:(0,d.L)(e.price)}),e.averageRating>0&&(0,r.jsxs)("p",{className:"text-xs text-slate-400",children:["★ ",e.averageRating.toFixed(1)]})]})]})]})},e.id)})})}function p(e){let{categories:s}=e;return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(e=>{var s;return(0,r.jsx)(c(),{href:"/products?category=".concat(e.slug),children:(0,r.jsxs)("article",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-sky-500/40 transition",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Category"}),(0,r.jsx)("h3",{className:"text-xl font-semibold mt-2",children:e.name}),(0,r.jsx)("p",{className:"text-slate-400 text-sm mt-2 line-clamp-2",children:e.description}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 mt-4",children:[(null===(s=e._count)||void 0===s?void 0:s.products)||0," products"]})]})},e.id)})})}function h(e){let{brands:s}=e;return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(e=>{var s;return(0,r.jsx)(c(),{href:"/products?brand=".concat(e.slug),children:(0,r.jsxs)("article",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-sky-500/40 transition",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Brand"}),(0,r.jsx)("h3",{className:"text-xl font-semibold mt-2",children:e.name}),(0,r.jsx)("p",{className:"text-slate-400 text-sm mt-2 line-clamp-3",children:e.description}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 mt-4",children:[(null===(s=e._count)||void 0===s?void 0:s.products)||0," products"]})]})},e.id)})})}function g(e){let{title:s,values:t,onSelect:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500 mb-3",children:s}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsx)("button",{onClick:()=>a(e),className:"px-3 py-1 rounded-full border border-slate-700 text-slate-300 hover:border-sky-500/40 hover:text-white text-xs",children:e},e))})]})}},9663:(e,s,t)=>{"use strict";t.d(s,{L:()=>r});let r=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)}},e=>{var s=s=>e(e.s=s);e.O(0,[3830,1097,2432,7979,4884,7098,9744,2033,2322,9592,7331,2652,5030,8392,7694,9173,9401,5484,7358],()=>s(9618)),_N_E=e.O()}]);