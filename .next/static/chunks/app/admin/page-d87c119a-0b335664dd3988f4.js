(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3073],{3168:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(5155);let a=[{id:"overview",label:"Overview",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"orders",label:"Orders",icon:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},{id:"products",label:"Products",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{id:"users",label:"Users",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"},{id:"analytics",label:"Analytics",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"coupons",label:"Coupons",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"},{id:"reviews",label:"Reviews",icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},{id:"settings",label:"Settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}];function l(e){let{activeTab:r,setActiveTab:t,tabs:l}=e;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border mb-8",children:(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{role:"tablist","aria-label":"Admin dashboard sections",className:"flex space-x-8 px-6",children:(l||a).map(e=>(0,s.jsxs)("button",{role:"tab","aria-selected":r===e.id,"aria-controls":"admin-tabpanel-".concat(e.id),id:"admin-tab-".concat(e.id),onClick:()=>t(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(r===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e.icon})}),(0,s.jsx)("span",{children:e.label})]},e.id))})})})}},4489:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(5155);function a(e){let{isOpen:r,onClose:t,onConfirm:a,title:l="Confirm Delete",message:i="Are you sure you want to delete this item? This action cannot be undone.",confirmText:n="Delete",cancelText:o="Cancel",itemName:d=null,isLoading:c=!1}=e;return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",onClick:t,children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-orange-50",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:l})]})}),(0,s.jsxs)("div",{className:"px-6 py-6",children:[(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:i}),d&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 border border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Item:"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:d})]}),(0,s.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"⚠️ This action cannot be undone."})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-end gap-3 rounded-b-xl",children:[(0,s.jsx)("button",{type:"button",onClick:t,disabled:c,className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o}),(0,s.jsx)("button",{type:"button",onClick:()=>{a()},disabled:c,className:"px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-red-600 to-red-700 rounded-lg hover:from-red-700 hover:to-red-800 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),n]})})]})]})}):null}},4436:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(5155),a=t(2115);function l(e){let{isOpen:r,onClose:t,onCreateCoupon:l}=e,[i,n]=(0,a.useState)({code:"",name:"",description:"",type:"PERCENTAGE",value:"",minOrderAmount:"",maxDiscount:"",usageLimit:"",userUsageLimit:"",validFrom:new Date().toISOString().split("T")[0],validUntil:""}),[o,d]=(0,a.useState)({}),[c,m]=(0,a.useState)(!1),x=e=>{let{name:r,value:t}=e.target;n(e=>({...e,[r]:t})),o[r]&&d(e=>({...e,[r]:""}))},u=()=>{let e={};i.code.trim()?i.code.trim().length<3?e.code="Coupon code must be at least 3 characters":/^[A-Z0-9]+$/.test(i.code.trim().toUpperCase())||(e.code="Coupon code can only contain letters and numbers"):e.code="Coupon code is required",i.name.trim()?i.name.trim().length<3&&(e.name="Coupon name must be at least 3 characters"):e.name="Coupon name is required",i.type||(e.type="Coupon type is required");let r=parseFloat(i.value);if(!i.value||isNaN(r)||r<=0?e.value="Valid value is required":"PERCENTAGE"===i.type&&r>100?e.value="Percentage cannot exceed 100%":"FIXED_AMOUNT"===i.type&&r<=0&&(e.value="Fixed amount must be greater than 0"),i.minOrderAmount){let r=parseFloat(i.minOrderAmount);(isNaN(r)||r<0)&&(e.minOrderAmount="Minimum order amount must be a positive number")}if(i.maxDiscount){let t=parseFloat(i.maxDiscount);(isNaN(t)||t<0)&&(e.maxDiscount="Maximum discount must be a positive number"),"PERCENTAGE"===i.type&&r&&t<100*r/100&&(e.maxDiscount="Maximum discount should be reasonable for the percentage")}if(i.usageLimit){let r=parseInt(i.usageLimit,10);(isNaN(r)||r<1)&&(e.usageLimit="Usage limit must be at least 1")}if(i.userUsageLimit){let r=parseInt(i.userUsageLimit,10);(isNaN(r)||r<1)&&(e.userUsageLimit="Per user limit must be at least 1")}if(i.validFrom&&isNaN(new Date(i.validFrom).getTime())&&(e.validFrom="Invalid date"),i.validUntil){let r=new Date(i.validUntil);isNaN(r.getTime())?e.validUntil="Invalid date":i.validFrom&&r<new Date(i.validFrom)&&(e.validUntil="Valid until date must be after valid from date")}return d(e),0===Object.keys(e).length},h=async e=>{if(e.preventDefault(),u()){m(!0);try{await l({code:i.code.trim().toUpperCase(),name:i.name.trim(),description:i.description.trim()||null,type:i.type,value:parseFloat(i.value),minOrderAmount:i.minOrderAmount?parseFloat(i.minOrderAmount):null,maxDiscount:i.maxDiscount?parseFloat(i.maxDiscount):null,usageLimit:i.usageLimit?parseInt(i.usageLimit,10):null,userUsageLimit:i.userUsageLimit?parseInt(i.userUsageLimit,10):null,validFrom:i.validFrom||new Date().toISOString().split("T")[0],validUntil:i.validUntil||null}),n({code:"",name:"",description:"",type:"PERCENTAGE",value:"",minOrderAmount:"",maxDiscount:"",usageLimit:"",userUsageLimit:"",validFrom:new Date().toISOString().split("T")[0],validUntil:""}),d({}),t()}catch(e){console.error("Error creating coupon:",e)}finally{m(!1)}}};return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Coupon"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{onSubmit:h,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code *"}),(0,s.jsx)("input",{type:"text",name:"code",value:i.code,onChange:x,className:"w-full border rounded-lg px-3 py-2 ".concat(o.code?"border-red-500":"border-gray-300"),placeholder:"SAVE20"}),o.code&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.code})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:i.name,onChange:x,className:"w-full border rounded-lg px-3 py-2 ".concat(o.name?"border-red-500":"border-gray-300"),placeholder:"20% Off Sale"}),o.name&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.name})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:i.description,onChange:x,rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Coupon description"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,s.jsxs)("select",{name:"type",value:i.type,onChange:x,className:"w-full border rounded-lg px-3 py-2 ".concat(o.type?"border-red-500":"border-gray-300"),children:[(0,s.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,s.jsx)("option",{value:"FIXED_AMOUNT",children:"Fixed Amount"}),(0,s.jsx)("option",{value:"FREE_SHIPPING",children:"Free Shipping"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value *"}),(0,s.jsx)("input",{type:"number",name:"value",value:i.value,onChange:x,step:"0.01",min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(o.value?"border-red-500":"border-gray-300"),placeholder:"PERCENTAGE"===i.type?"20":"500"}),o.value&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.value})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Amount"}),(0,s.jsx)("input",{type:"number",name:"minOrderAmount",value:i.minOrderAmount,onChange:x,step:"0.01",min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(o.minOrderAmount?"border-red-500":"border-gray-300"),placeholder:"0.00"}),o.minOrderAmount&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.minOrderAmount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount"}),(0,s.jsx)("input",{type:"number",name:"maxDiscount",value:i.maxDiscount,onChange:x,step:"0.01",min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(o.maxDiscount?"border-red-500":"border-gray-300"),placeholder:"0.00"}),o.maxDiscount&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.maxDiscount})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),(0,s.jsx)("input",{type:"number",name:"usageLimit",value:i.usageLimit,onChange:x,min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(o.usageLimit?"border-red-500":"border-gray-300"),placeholder:"Unlimited"}),o.usageLimit&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.usageLimit}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for unlimited usage"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per User Limit"}),(0,s.jsx)("input",{type:"number",name:"userUsageLimit",value:i.userUsageLimit,onChange:x,min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(o.userUsageLimit?"border-red-500":"border-gray-300"),placeholder:"1"}),o.userUsageLimit&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.userUsageLimit}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"How many times a single user can use this coupon"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From"}),(0,s.jsx)("input",{type:"date",name:"validFrom",value:i.validFrom,onChange:x,min:new Date().toISOString().split("T")[0],className:"w-full border rounded-lg px-3 py-2 ".concat(o.validFrom?"border-red-500":"border-gray-300")}),o.validFrom&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.validFrom})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until"}),(0,s.jsx)("input",{type:"date",name:"validUntil",value:i.validUntil,onChange:x,min:i.validFrom||new Date().toISOString().split("T")[0],className:"w-full border rounded-lg px-3 py-2 ".concat(o.validUntil?"border-red-500":"border-gray-300")}),o.validUntil&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:o.validUntil}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for no expiration"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50",children:c?"Creating...":"Create Coupon"})]})]})]})}):null}},8640:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(5155),a=t(2115);function l(e){let{isOpen:r,onClose:t,coupon:l,onUpdateCoupon:i}=e,[n,o]=(0,a.useState)({name:"",description:"",type:"PERCENTAGE",value:"",minOrderAmount:"",maxDiscount:"",usageLimit:"",userUsageLimit:"",status:"ACTIVE",validFrom:"",validUntil:""}),[d,c]=(0,a.useState)({}),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{l&&o({name:l.name||"",description:l.description||"",type:l.type||"PERCENTAGE",value:l.value||"",minOrderAmount:l.minOrderAmount||"",maxDiscount:l.maxDiscount||"",usageLimit:l.usageLimit||"",userUsageLimit:l.userUsageLimit||"",status:l.status||"ACTIVE",validFrom:l.validFrom?new Date(l.validFrom).toISOString().split("T")[0]:"",validUntil:l.validUntil?new Date(l.validUntil).toISOString().split("T")[0]:""})},[l]);let u=e=>{let{name:r,value:t}=e.target;o(e=>({...e,[r]:t})),d[r]&&c(e=>({...e,[r]:""}))},h=()=>{let e={};return n.name.trim()||(e.name="Coupon name is required"),n.type||(e.type="Coupon type is required"),(!n.value||0>=parseFloat(n.value))&&(e.value="Valid value is required"),"PERCENTAGE"===n.type&&parseFloat(n.value)>100&&(e.value="Percentage cannot exceed 100%"),c(e),0===Object.keys(e).length},p=async e=>{if(e.preventDefault(),h()){x(!0);try{await i(l.id,{name:n.name,description:n.description,type:n.type,value:parseFloat(n.value),minOrderAmount:n.minOrderAmount?parseFloat(n.minOrderAmount):null,maxDiscount:n.maxDiscount?parseFloat(n.maxDiscount):null,usageLimit:n.usageLimit?parseInt(n.usageLimit):null,userUsageLimit:n.userUsageLimit?parseInt(n.userUsageLimit):null,status:n.status,validFrom:n.validFrom,validUntil:n.validUntil||null}),t()}catch(e){console.error("Error updating coupon:",e)}finally{x(!1)}}};return r&&l?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Coupon: ",l.code]}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{onSubmit:p,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),(0,s.jsx)("input",{type:"text",value:l.code,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Code cannot be changed"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:n.name,onChange:u,className:"w-full border rounded-lg px-3 py-2 ".concat(d.name?"border-red-500":"border-gray-300")}),d.name&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.name})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:n.description,onChange:u,rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,s.jsxs)("select",{name:"type",value:n.type,onChange:u,className:"w-full border rounded-lg px-3 py-2 ".concat(d.type?"border-red-500":"border-gray-300"),children:[(0,s.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,s.jsx)("option",{value:"FIXED_AMOUNT",children:"Fixed Amount"}),(0,s.jsx)("option",{value:"FREE_SHIPPING",children:"Free Shipping"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value *"}),(0,s.jsx)("input",{type:"number",name:"value",value:n.value,onChange:u,step:"0.01",min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(d.value?"border-red-500":"border-gray-300")}),d.value&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:d.value})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order Amount"}),(0,s.jsx)("input",{type:"number",name:"minOrderAmount",value:n.minOrderAmount,onChange:u,step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount"}),(0,s.jsx)("input",{type:"number",name:"maxDiscount",value:n.maxDiscount,onChange:u,step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),(0,s.jsx)("input",{type:"number",name:"usageLimit",value:n.usageLimit,onChange:u,min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per User Limit"}),(0,s.jsx)("input",{type:"number",name:"userUsageLimit",value:n.userUsageLimit,onChange:u,min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,s.jsxs)("select",{name:"status",value:n.status,onChange:u,className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,s.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,s.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,s.jsx)("option",{value:"EXPIRED",children:"Expired"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From"}),(0,s.jsx)("input",{type:"date",name:"validFrom",value:n.validFrom,onChange:u,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until"}),(0,s.jsx)("input",{type:"date",name:"validUntil",value:n.validUntil,onChange:u,className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50",children:m?"Updating...":"Update Coupon"})]})]})]})}):null}},2221:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(5155),a=t(2115),l=t(3619);function i(e){let{isOpen:r,onClose:t,product:i,onUpdateProduct:n}=e,{data:o}=(0,l.Ck)(),{data:d}=(0,l.Ek)(),c=(0,a.useMemo)(()=>o?Array.isArray(o)?o:o.categories&&Array.isArray(o.categories)?o.categories:o.data&&Array.isArray(o.data)?o.data:[]:[],[o]),m=(0,a.useMemo)(()=>d?Array.isArray(d)?d:d.brands&&Array.isArray(d.brands)?d.brands:d.data&&Array.isArray(d.data)?d.data:[]:[],[d]),[x,u]=(0,a.useState)({name:"",description:"",sku:"",price:"",originalPrice:"",category:"",brand:"",stock:"",featured:!1,published:!0}),[h,p]=(0,a.useState)({}),[g,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i&&u({name:i.name||"",description:i.description||"",sku:i.sku||"",price:i.price||"",originalPrice:i.originalPrice||"",category:i.categoryId||"",brand:i.brandId||"",stock:i.stock||0,featured:i.featured||!1,published:!1!==i.published})},[i]);let v=e=>{let{name:r,value:t,type:s,checked:a}=e.target;u(e=>({...e,[r]:"checkbox"===s?a:t})),h[r]&&p(e=>({...e,[r]:""}))},j=()=>{let e={};return x.name.trim()||(e.name="Product name is required"),x.description.trim()||(e.description="Description is required"),x.sku.trim()||(e.sku="SKU is required"),(!x.price||0>=parseFloat(x.price))&&(e.price="Valid price is required"),x.category||(e.category="Category is required"),x.brand||(e.brand="Brand is required"),(""===x.stock||0>parseInt(x.stock))&&(e.stock="Valid stock quantity is required"),p(e),0===Object.keys(e).length},y=async e=>{if(e.preventDefault(),j()){b(!0);try{await n({name:x.name,description:x.description,sku:x.sku,price:parseFloat(x.price),originalPrice:x.originalPrice?parseFloat(x.originalPrice):null,categoryId:x.category,brandId:x.brand,stock:parseInt(x.stock),featured:x.featured,published:x.published}),t()}catch(e){console.error("Error updating product:",e)}finally{b(!1)}}};return r&&i?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Product"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{onSubmit:y,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:x.name,onChange:v,className:"w-full border rounded-lg px-3 py-2 ".concat(h.name?"border-red-500":"border-gray-300"),placeholder:"Enter product name"}),h.name&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,s.jsx)("textarea",{name:"description",value:x.description,onChange:v,rows:3,className:"w-full border rounded-lg px-3 py-2 ".concat(h.description?"border-red-500":"border-gray-300"),placeholder:"Enter product description"}),h.description&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.description})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),(0,s.jsx)("input",{type:"text",name:"sku",value:x.sku,onChange:v,className:"w-full border rounded-lg px-3 py-2 ".concat(h.sku?"border-red-500":"border-gray-300"),placeholder:"Enter SKU"}),h.sku&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.sku})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),(0,s.jsx)("input",{type:"number",name:"stock",value:x.stock,onChange:v,min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(h.stock?"border-red-500":"border-gray-300"),placeholder:"Enter stock quantity"}),h.stock&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.stock})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (KES) *"}),(0,s.jsx)("input",{type:"number",name:"price",value:x.price,onChange:v,step:"0.01",min:"0",className:"w-full border rounded-lg px-3 py-2 ".concat(h.price?"border-red-500":"border-gray-300"),placeholder:"0.00"}),h.price&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.price})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (KES)"}),(0,s.jsx)("input",{type:"number",name:"originalPrice",value:x.originalPrice,onChange:v,step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"0.00"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,s.jsxs)("select",{name:"category",value:x.category,onChange:v,className:"w-full border rounded-lg px-3 py-2 ".concat(h.category?"border-red-500":"border-gray-300"),children:[(0,s.jsx)("option",{value:"",children:"Select category"}),c.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),h.category&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.category})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand *"}),(0,s.jsxs)("select",{name:"brand",value:x.brand,onChange:v,className:"w-full border rounded-lg px-3 py-2 ".concat(h.brand?"border-red-500":"border-gray-300"),children:[(0,s.jsx)("option",{value:"",children:"Select brand"}),m.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),h.brand&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:h.brand})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"featured",checked:x.featured,onChange:v,className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Featured Product"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"published",checked:x.published,onChange:v,className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Published"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50",children:g?"Updating...":"Update Product"})]})]})]})}):null}},2190:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(5155),a=t(2115),l=t(5755),i=t(5747);function n(e){let{isOpen:r,onClose:t,onSelectImage:n,multiple:o=!1}=e,[d,c]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),[u,h]=(0,a.useState)([]),p=(0,l.d)();(0,a.useEffect)(()=>{r&&g()},[r]);let g=async()=>{try{x(!0);let e=await fetch("/api/media",{credentials:"include"});if(e.ok){let r=await e.json();c(r.data||[])}else p.error("Failed to load media library")}catch(e){console.error("Error fetching media:",e),p.error("Failed to load media library")}finally{x(!1)}},b=e=>{o?h(r=>r.some(r=>r.url===e.url)?r.filter(r=>r.url!==e.url):[...r,e]):(n(e),t())};return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-950 via-blue-900 to-slate-900 px-6 py-4 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Media Library"}),(0,s.jsx)("p",{className:"text-sm text-blue-200 mt-1",children:"Select from uploaded images"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[o&&u.length>0&&(0,s.jsxs)("button",{onClick:()=>{u.length>0&&(o?u.forEach(e=>n(e)):n(u[0]),h([]),t())},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:["Select ",u.length," Image",1!==u.length?"s":""]}),(0,s.jsx)("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:m?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):0===d.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Images Found"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Upload images to see them here"})]}):(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:d.map((e,r)=>{let t=u.some(r=>r.url===e.url);return(0,s.jsxs)("div",{onClick:()=>b({url:e.url,alt:e.filename}),className:"relative aspect-square rounded-xl overflow-hidden border-2 cursor-pointer transition-all ".concat(t?"border-blue-900 ring-4 ring-blue-500 ring-offset-2":"border-gray-200 hover:border-blue-500"),children:[(0,s.jsx)(i.A,{src:e.url,alt:e.filename,width:200,height:200,className:"w-full h-full object-cover"}),t&&(0,s.jsx)("div",{className:"absolute inset-0 bg-blue-900/20 flex items-center justify-center",children:(0,s.jsx)("div",{className:"bg-blue-900 text-white rounded-full p-2",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-2 truncate",children:e.filename})]},r)})})})]})}):null}},6577:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(5155);t(8173);var a=t(9663);function l(e){let{stats:r,recentOrders:t,lowStockProducts:l,statusColors:i,paymentStatusColors:n,formatDate:o,setActiveTab:d}=e;return(0,s.jsxs)("div",{role:"tabpanel",id:"admin-tabpanel-overview","aria-labelledby":"admin-tab-overview",className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Revenue"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:(0,a.L)(r.totalRevenue||0)}),void 0!==r.revenueGrowth&&null!==r.revenueGrowth&&(0,s.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"+",r.revenueGrowth,"%"]}),(0,s.jsx)("span",{className:"text-gray-500 ml-1",children:"from last month"})]})]}),(0,s.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg shadow-green-500/20",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Orders"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:(r.totalOrders||0).toLocaleString()}),r.pendingOrders>0&&(0,s.jsx)("p",{className:"text-sm text-amber-600 font-medium",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.pendingOrders," pending"]})})]}),(0,s.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Products"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.totalProducts||0}),r.lowStockProducts>0&&(0,s.jsx)("p",{className:"text-sm text-red-600 font-medium",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.lowStockProducts," low stock"]})})]}),(0,s.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/20",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Users"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:(r.totalUsers||0).toLocaleString()}),r.newUsersToday>0&&(0,s.jsx)("p",{className:"text-sm text-green-600 font-medium",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"+",r.newUsersToday," today"]})})]}),(0,s.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/20",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Recent Orders"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Latest customer orders"})]}),(0,s.jsxs)("button",{onClick:()=>d&&d("orders"),className:"text-blue-600 hover:text-blue-900 text-sm font-semibold transition-colors flex items-center gap-1 group",children:["View All",(0,s.jsx)("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-3",children:0===t.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,s.jsx)("p",{className:"text-gray-500 mt-4 font-medium",children:"No recent orders found"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Orders will appear here once customers start placing them"})]}):t.map(e=>{var r;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 border border-gray-200 hover:border-blue-300 transition-all duration-200 group",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900 truncate",children:e.orderNumber||"Order #".concat(e.id.slice(-8))}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-2 flex-shrink-0",children:[(0,s.jsx)("span",{className:"px-2.5 py-1 rounded-lg text-xs font-semibold ".concat(i[e.status]||"bg-gray-100 text-gray-800"),children:e.status}),(0,s.jsx)("span",{className:"px-2.5 py-1 rounded-lg text-xs font-semibold ".concat(n[e.paymentStatus]||"bg-gray-100 text-gray-800"),children:e.paymentStatus})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-1 flex-wrap",children:[(0,s.jsx)("p",{className:"font-medium",children:(null===(r=e.user)||void 0===r?void 0:r.name)||"Unknown Customer"}),e.paymentMethod&&(0,s.jsxs)("span",{className:"text-gray-500",children:["• ",e.paymentMethod.toUpperCase()]}),e.mpesaReceiptNumber&&(0,s.jsxs)("span",{className:"text-green-600 font-mono text-xs bg-green-50 px-2 py-0.5 rounded",children:["Receipt: ",e.mpesaReceiptNumber]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:o(e.createdAt)})]}),(0,s.jsxs)("div",{className:"text-right ml-4 flex-shrink-0",children:[(0,s.jsx)("p",{className:"font-bold text-blue-600 text-lg",children:(0,a.L)(e.total||0)}),"COMPLETED"===e.paymentStatus&&(0,s.jsxs)("p",{className:"text-xs text-green-600 mt-1 font-medium flex items-center gap-1 justify-end",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Paid"]})]})]},e.id)})})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-red-50 to-orange-50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Low Stock Alert"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Products needing restock"})]}),(0,s.jsxs)("button",{onClick:()=>d&&d("products"),className:"text-blue-600 hover:text-blue-900 text-sm font-semibold transition-colors flex items-center gap-1 group",children:["Manage Stock",(0,s.jsx)("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-3",children:0===l.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"text-gray-500 mt-4 font-medium",children:"All products are well stocked"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"No action needed at this time"})]}):l.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-xl border-2 border-red-200 hover:border-red-300 transition-all duration-200",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900 truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-0.5",children:["SKU: ",e.sku]}),(0,s.jsxs)("p",{className:"text-sm text-red-600 font-bold mt-1 flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Stock: ",e.stock," (Min: ",e.minStock||5,")"]})]}),(0,s.jsxs)("div",{className:"text-right ml-4 flex-shrink-0",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:(0,a.L)(e.price)}),(0,s.jsx)("button",{onClick:()=>d&&d("products"),className:"text-sm text-blue-600 hover:text-blue-900 font-semibold mt-1 transition-colors",children:"Restock →"})]})]},e.id))})})]})]})]})}},5755:(e,r,t)=>{"use strict";t.d(r,{ToastProvider:()=>i,d:()=>o});var s=t(5155),a=t(2115);let l=(0,a.createContext)();function i(e){let{children:r}=e,[t,i]=(0,a.useState)([]),o=e=>{let r=Date.now()+Math.random(),t={...e,id:r};return i(e=>[...e,t]),0!==e.duration&&setTimeout(()=>{d(r)},e.duration||5e3),r},d=e=>{i(r=>r.filter(r=>r.id!==e))};return(0,s.jsxs)(l.Provider,{value:{addToast:o,success:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return o({type:"success",message:e,duration:r})},error:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7e3;return o({type:"error",message:e,duration:r})},info:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return o({type:"info",message:e,duration:r})},warning:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;return o({type:"warning",message:e,duration:r})},removeToast:d},children:[r,(0,s.jsx)("div",{className:"fixed top-24 right-4 z-[9999] space-y-2 pointer-events-none",children:t.map(e=>(0,s.jsx)(n,{toast:e,onClose:()=>d(e.id)},e.id))})]})}function n(e){let{toast:r,onClose:t}=e,[l,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{setTimeout(()=>i(!0),10)},[]);let n={success:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),info:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})};return(0,s.jsx)("div",{className:"\n        pointer-events-auto\n        min-w-[300px] max-w-md\n        border-2 rounded-xl\n        p-4 shadow-2xl\n        transform transition-all duration-300 ease-out\n        ".concat(l?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n        ").concat({success:"bg-emerald-600 text-white border-2 border-emerald-500",error:"bg-red-600 text-white border-2 border-red-500",info:"bg-blue-600 text-white border-2 border-blue-500",warning:"bg-amber-600 text-white border-2 border-amber-500"}[r.type],"\n      "),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:n[r.type]}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("p",{className:"text-sm font-medium leading-relaxed",children:r.message})}),(0,s.jsx)("button",{onClick:t,className:"flex-shrink-0 text-white/80 hover:text-white transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function o(){let e=(0,a.useContext)(l);if(!e)throw Error("useToast must be used within ToastProvider");return e}},9663:(e,r,t)=>{"use strict";t.d(r,{L:()=>s});let s=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)}},e=>{var r=r=>e(e.s=r);e.O(0,[3830,1097,2432,7979,4884,7098,9744,2033,2322,9592,7331,2652,5030,8392,7694,9173,9401,5484,1629,6e3,7358],()=>r(1025)),_N_E=e.O()}]);