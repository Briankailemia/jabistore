(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1778],{1375:(e,r,s)=>{Promise.resolve().then(s.bind(s,3601))},3601:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p});var a=s(5155),t=s(2115),l=s(8173),d=s.n(l),i=s(2615),o=s(7908),n=s(9049),c=s(5747),x=s(3619),m=s(9663);let b=["ALL","PENDING","PROCESSING","SHIPPED","DELIVERED","CANCELLED"],h={PENDING:"bg-amber-50 text-amber-900 border-2 border-amber-300",PROCESSING:"bg-blue-50 text-blue-900 border-2 border-blue-300",SHIPPED:"bg-indigo-50 text-indigo-900 border-2 border-indigo-300",DELIVERED:"bg-emerald-50 text-emerald-900 border-2 border-emerald-300",CANCELLED:"bg-red-50 text-red-900 border-2 border-red-300",REFUNDED:"bg-gray-50 text-gray-900 border-2 border-gray-300",CONFIRMED:"bg-cyan-50 text-cyan-900 border-2 border-cyan-300"},g={PENDING:"bg-amber-50 text-amber-900 border-2 border-amber-300",PROCESSING:"bg-blue-50 text-blue-900 border-2 border-blue-300",COMPLETED:"bg-emerald-50 text-emerald-900 border-2 border-emerald-300",FAILED:"bg-red-50 text-red-900 border-2 border-red-300",REFUNDED:"bg-gray-50 text-gray-900 border-2 border-gray-300"},u=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"—";function p(){let{data:e,status:r}=(0,i.useSession)(),[s,l]=(0,t.useState)("ALL"),{data:p,loading:y,error:j}=(0,x.h)({limit:50}),N=(0,t.useMemo)(()=>(null==p?void 0:p.orders)||[],[p]),v=(0,t.useMemo)(()=>"ALL"===s?N:N.filter(e=>e.status===s),[N,s]);return"loading"===r?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsx)(o.A,{size:"lg",color:"blue",text:"Checking your session"})}):e?y?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50 to-white px-4 py-10",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-black text-gray-900 mb-8",children:"Your Orders"}),(0,a.jsx)(n.IX,{count:5})]})}):j?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-md text-center space-y-4 bg-white border-2 border-gray-200 rounded-3xl p-8 shadow-xl",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"We couldn't load your orders."}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please refresh or try again shortly."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,a.jsxs)("header",{className:"relative overflow-hidden rounded-[36px] border-2 border-gray-200 bg-gradient-to-br from-blue-50 via-white to-blue-100 px-6 py-16 sm:px-10 shadow-lg mb-10",children:[(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute -top-24 left-10 h-72 w-72 rounded-full bg-blue-300/30 blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-32 right-0 h-80 w-80 rounded-full bg-indigo-300/25 blur-3xl"})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-blue-700 font-bold mb-2",children:"Order Desk"}),(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight text-gray-900 mt-3",children:"Manage your purchases"}),(0,a.jsx)("p",{className:"text-gray-600 mt-3 text-lg",children:"Track premium hardware orders, download invoices, and monitor delivery in one place."}),(0,a.jsx)("div",{className:"mt-6 flex flex-wrap gap-4",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm border-2 border-blue-200 rounded-xl px-4 py-2",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wide",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-black text-blue-900",children:N.length})]})})]})]}),(0,a.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-3xl px-4 sm:px-6 mb-8 shadow-md",children:(0,a.jsx)("div",{className:"flex flex-wrap",children:b.map(e=>{let r=s===e,t="ALL"===e?N.length:N.filter(r=>r.status===e).length;return(0,a.jsxs)("button",{onClick:()=>l(e),className:"flex items-center gap-2 px-4 sm:px-6 py-4 text-sm font-bold transition border-b-2 ".concat(r?"border-blue-900 text-blue-900 bg-blue-50":"border-transparent text-gray-600 hover:text-blue-900 hover:bg-gray-50"),children:["ALL"===e?"All":e.toLowerCase().replace(/^(\w)/,e=>e.toUpperCase()),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full font-bold ".concat(r?"bg-blue-900 text-white":"bg-gray-100 text-gray-700"),children:t})]},e)})})}),0===v.length?(0,a.jsxs)("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-3xl p-16 text-center shadow-md",children:[(0,a.jsx)("p",{className:"text-xl font-black text-gray-900 mb-3",children:"No orders in this lane"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"ALL"===s?"You haven't placed any orders yet.":"No orders marked as ".concat(s.toLowerCase(),".")}),(0,a.jsx)(d(),{href:"/products",className:"inline-flex items-center justify-center px-6 py-3 rounded-2xl bg-blue-900 text-white font-bold hover:bg-blue-800 transition shadow-lg hover:shadow-xl",children:"Browse catalog"})]}):(0,a.jsx)("div",{className:"space-y-6",children:v.map(e=>{var r;return(0,a.jsxs)("article",{className:"bg-white border-2 border-gray-200 rounded-3xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[(0,a.jsxs)("div",{className:"px-6 py-5 border-b-2 border-gray-100 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 font-bold",children:"Order"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsx)("p",{className:"text-xl font-black text-gray-900",children:e.orderNumber}),(0,a.jsxs)("span",{className:"text-gray-600 text-sm font-medium",children:["Placed ",u(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(h[e.status]||"bg-gray-100 text-gray-900 border-2 border-gray-300"),children:e.status.toLowerCase()}),(0,a.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(g[e.paymentStatus]||"bg-gray-100 text-gray-900 border-2 border-gray-300"),children:e.paymentStatus.toLowerCase()}),(0,a.jsx)("p",{className:"text-lg font-black text-blue-900",children:(0,m.L)(e.total)}),(0,a.jsx)(d(),{href:"/orders/".concat(e.id),className:"text-blue-900 hover:text-blue-700 text-sm font-bold transition-colors",children:"View details →"})]})]}),(0,a.jsx)("div",{className:"p-6 space-y-4 bg-gray-50",children:e.items.map(e=>{var r,s,t,l;return(0,a.jsxs)("div",{className:"flex items-center gap-4 bg-white p-4 rounded-xl border-2 border-gray-200 hover:border-blue-300 transition-colors",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-xl bg-gray-100 border-2 border-gray-200 flex items-center justify-center overflow-hidden relative flex-shrink-0",children:(null===(t=e.product)||void 0===t?void 0:null===(s=t.images)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.url)?(0,a.jsx)(c.OptimizedImage,{src:e.product.images[0].url,alt:e.product.name,width:64,height:64,className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"text-xs text-gray-400 font-semibold",children:"IMG"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-gray-900 font-bold line-clamp-2",children:(null===(l=e.product)||void 0===l?void 0:l.name)||"Product removed"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-medium mt-1",children:["Qty ",e.quantity]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,a.jsx)("p",{className:"text-gray-900 font-black",children:(0,m.L)(Number(e.price)*e.quantity)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:[(0,m.L)(Number(e.price))," each"]})]})]},e.id)})}),(0,a.jsxs)("div",{className:"px-6 py-5 border-t-2 border-gray-100 flex flex-col md:flex-row md:items-center md:justify-between gap-4 bg-white",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,a.jsxs)("p",{className:"font-medium",children:["Payment method: ",(0,a.jsx)("span",{className:"text-gray-900 font-bold",children:(null===(r=e.paymentMethod)||void 0===r?void 0:r.toUpperCase())||"—"})]}),e.mpesaReceiptNumber&&(0,a.jsxs)("p",{className:"font-medium",children:["M-Pesa Receipt: ",(0,a.jsx)("span",{className:"font-mono text-emerald-700 font-bold bg-emerald-50 px-2 py-0.5 rounded",children:e.mpesaReceiptNumber})]}),e.trackingNumber?(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)("p",{className:"font-medium",children:["Tracking: ",(0,a.jsx)("span",{className:"font-mono text-gray-900 font-bold bg-blue-50 px-2 py-0.5 rounded",children:e.trackingNumber})]}),(0,a.jsx)(d(),{href:"/orders/".concat(e.id,"/track"),className:"text-blue-900 hover:text-blue-700 text-xs font-bold underline",children:"View tracking details →"})]}):(0,a.jsx)("p",{className:"text-gray-500",children:"Tracking number will be available once your order ships"}),e.shippingAddress&&(0,a.jsxs)("p",{className:"font-medium",children:["Ship to: ",(0,a.jsxs)("span",{className:"text-gray-900 font-bold",children:[e.shippingAddress.address1,", ",e.shippingAddress.city]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{let r=window.open("/orders/".concat(e.id,"/invoice?download=true"),"_blank");setTimeout(()=>{r&&r.focus()},1e3)},className:"px-4 py-2 rounded-xl bg-gray-100 text-gray-900 text-sm font-bold hover:bg-gray-200 border-2 border-gray-300 transition-colors inline-flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download invoice"]}),e.trackingNumber&&(0,a.jsxs)(d(),{href:"/orders/".concat(e.id,"/track"),className:"px-4 py-2 rounded-xl bg-blue-900 text-white text-sm font-bold hover:bg-blue-800 flex items-center gap-2 transition-colors shadow-md hover:shadow-lg",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Track Package"]}),(0,a.jsx)(d(),{href:"/orders/".concat(e.id),className:"px-4 py-2 rounded-xl border-2 border-gray-300 text-gray-900 text-sm font-bold hover:border-blue-900 hover:text-blue-900 transition-colors",children:"View Details"})]})]})]},e.id)})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50 to-white flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-lg w-full bg-white border-2 border-gray-200 rounded-3xl p-10 text-center space-y-6 shadow-xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-black text-gray-900",children:"Sign in to view orders"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track laptops, phones, and creator gear you have purchased from Dilitech Solutions."}),(0,a.jsx)(d(),{href:"/auth/signin",className:"inline-flex justify-center px-6 py-3 rounded-2xl bg-blue-900 text-white font-bold hover:bg-blue-800 transition shadow-lg hover:shadow-xl",children:"Continue to sign in"})]})})}},5747:(e,r,s)=>{"use strict";s.d(r,{A:()=>i,OptimizedImage:()=>d});var a=s(5155),t=s(5565),l=s(2115);let d=e=>{let{src:r,alt:s,width:d,height:i,className:o="",priority:n=!1,placeholder:c="blur",...x}=e,[m,b]=(0,l.useState)(!0),[h,g]=(0,l.useState)(!1),u="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q==",p=()=>{b(!1)},y=()=>{g(!0),b(!1)};return h?(0,a.jsx)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(o),style:{width:d||"100%",height:i||"auto",aspectRatio:d&&i?"".concat(d,"/").concat(i):void 0},children:(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"Image unavailable"})}):d&&i?(0,a.jsxs)("div",{className:"relative ".concat(o),style:{width:"100%",aspectRatio:"".concat(d,"/").concat(i)},children:[(0,a.jsx)(t.default,{src:r,alt:s,fill:!0,priority:n,placeholder:c,blurDataURL:u,onLoad:p,onError:y,className:"transition-opacity duration-300 object-cover ".concat(m?"opacity-0":"opacity-100"),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...x}),m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):d&&!i?(0,a.jsxs)("div",{className:"relative ".concat(o),style:{width:"100%",aspectRatio:"1"},children:[(0,a.jsx)(t.default,{src:r,alt:s,fill:!0,priority:n,placeholder:c,blurDataURL:u,onLoad:p,onError:y,className:"transition-opacity duration-300 object-cover ".concat(m?"opacity-0":"opacity-100"),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...x}),m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):(0,a.jsxs)("div",{className:"relative ".concat(o),children:[(0,a.jsx)(t.default,{src:r,alt:s,width:800,height:600,priority:n,placeholder:c,blurDataURL:u,onLoad:p,onError:y,className:"transition-opacity duration-300 w-full h-auto ".concat(m?"opacity-0":"opacity-100"),style:{width:"auto",height:"auto"},...x}),m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]})},i=d},9049:(e,r,s)=>{"use strict";s.d(r,{IX:()=>l,uL:()=>d,ud:()=>i});var a=s(5155);function t(){return(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"h-5 bg-slate-800 rounded w-32"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-1/2"})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-800",children:(0,a.jsx)("div",{className:"h-6 bg-slate-800 rounded w-24"})})]})}function l(e){let{count:r=5}=e;return(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:r}).map((e,r)=>(0,a.jsx)(t,{},r))})}function d(){return(0,a.jsx)("div",{className:"min-h-screen bg-transparent text-gray-900",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-10 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-64"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-10",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-2xl"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:4}).map((e,r)=>(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-xl"},r))})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-24"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]})})]})]})})}function i(){return(0,a.jsx)("div",{className:"min-h-screen bg-transparent animate-pulse",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,a.jsx)("div",{className:"h-8 bg-slate-800 rounded w-48 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"space-y-6",children:Array.from({length:3}).map((e,r)=>(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,a.jsx)("div",{className:"h-6 bg-slate-800 rounded w-32 mb-4"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"})]})]},r))}),(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,a.jsx)("div",{className:"h-6 bg-slate-800 rounded w-40 mb-6"}),(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:4}).map((e,r)=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-20"})]},r))})]})]})]})})}},9663:(e,r,s)=>{"use strict";s.d(r,{L:()=>a});let a=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)}},e=>{var r=r=>e(e.s=r);e.O(0,[3830,1097,2432,7979,4884,7098,9744,2033,2322,9592,7331,2652,5030,8392,7694,9173,9401,5484,7358],()=>r(1375)),_N_E=e.O()}]);