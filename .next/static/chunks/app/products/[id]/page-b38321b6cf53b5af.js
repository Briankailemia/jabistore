(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3403],{1536:(e,s,a)=>{Promise.resolve().then(a.bind(a,8158))},8158:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(5155),r=a(2115),l=a(8173),i=a.n(l),d=a(6046),n=a(2615),o=a(5747);a(7908);var c=a(9049),x=(a(2818),a(6386)),m=a(1531),u=a(9663),g=a(3619);function h(){var e,s,a,l,h,b,p,v;let j=(0,d.useParams)(),f=(0,d.useRouter)(),{data:y,status:N,update:w}=(0,n.useSession)(),{data:A,loading:k,error:C}=(0,g.Bj)(j.id),{refreshCart:B}=(0,g._$)(),[L,M]=(0,r.useState)(0),[R,S]=(0,r.useState)(1),[z,K]=(0,r.useState)("description"),[E,T]=(0,r.useState)({state:"idle",message:""}),[Q,D]=(0,r.useState)({state:"idle",message:""}),{data:I}=(0,g.QT)({category:null==A?void 0:null===(e=A.category)||void 0===e?void 0:e.slug,limit:4}),U=((null==I?void 0:null===(s=I.data)||void 0===s?void 0:s.products)||(null==I?void 0:I.products)||[]).filter(e=>e.id!==(null==A?void 0:A.id)).slice(0,4);(0,r.useEffect)(()=>{(null==A?void 0:A.stock)>0&&S(1)},[null==A?void 0:A.stock]);let P=()=>{let e=encodeURIComponent("/products/".concat(j.id));f.push("/auth/signin?callbackUrl=".concat(e))},Y=async()=>{if("loading"===N){T({state:"loading",message:"Checking session…"});let e=0;for(;"loading"===N&&e<20;)await new Promise(e=>setTimeout(e,100)),e++}if(!y||"unauthenticated"===N){P();return}try{T({state:"loading",message:"Adding to cart…"});let e=await g.Ay.addToCart(A.id,R);if(e&&!e.success&&e.message)throw Error(e.message);T({state:"success",message:"".concat(R," item").concat(R>1?"s":""," added to your cart.")}),setTimeout(()=>{B()},300),setTimeout(()=>{T({state:"idle",message:""})},3e3)}catch(e){if(console.error("Add to cart error:",e),"UNAUTHORIZED"===e.message||e.message.includes("401")||e.message.includes("Unauthorized"))try{if(await w(),await new Promise(e=>setTimeout(e,500)),!y||"unauthenticated"===N){T({state:"error",message:"Your session expired. Redirecting to sign in..."}),setTimeout(()=>{P()},1500);return}T({state:"loading",message:"Retrying..."}),await g.Ay.addToCart(A.id,R),T({state:"success",message:"".concat(R," item").concat(R>1?"s":""," added to your cart.")}),await w()}catch(e){T({state:"error",message:"Your session expired. Please sign in again."}),setTimeout(()=>{P()},2e3)}else T({state:"error",message:e.message||"Unable to add to cart."})}},F=async()=>{if("loading"===N){D({state:"loading",message:"Checking session…"});let e=0;for(;"loading"===N&&e<20;)await new Promise(e=>setTimeout(e,100)),e++}if(!y||"unauthenticated"===N){P();return}try{D({state:"loading",message:""}),await g.Ay.addToWishlist(A.id),D({state:"success",message:"Saved to your wishlist."}),await w(),setTimeout(()=>{D({state:"idle",message:""})},3e3)}catch(e){if("UNAUTHORIZED"===e.message||e.message.includes("401")||e.message.includes("Unauthorized"))try{if(await w(),await new Promise(e=>setTimeout(e,500)),!y||"unauthenticated"===N){D({state:"error",message:"Your session expired. Redirecting to sign in..."}),setTimeout(()=>{P()},1500);return}D({state:"loading",message:"Retrying..."}),await g.Ay.addToWishlist(A.id),D({state:"success",message:"Saved to your wishlist."}),await w()}catch(e){D({state:"error",message:"Your session expired. Please sign in again."}),setTimeout(()=>{P()},2e3)}else D({state:"error",message:e.message||"Unable to save to wishlist."})}};return k?(0,t.jsx)(c.uL,{}):C||!A?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-transparent px-4",children:(0,t.jsxs)(x.default,{className:"max-w-lg text-center space-y-4 bg-white border-gray-200",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:C?"Error loading product":"Product not found"}),(0,t.jsx)("p",{className:"text-gray-600",children:C||"The product you're looking for doesn't exist."}),(0,t.jsx)(i(),{href:"/products",className:(0,m.buttonClasses)({size:"md",className:"w-full justify-center"}),children:"Browse products"})]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"min-h-screen bg-transparent text-gray-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-10",children:[(0,t.jsx)("nav",{className:"flex flex-wrap items-center text-sm text-gray-600 gap-2","aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i(),{href:"/",className:"hover:text-blue-900 transition-colors",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(i(),{href:"/products",className:"hover:text-blue-900 transition-colors",children:"Products"})}),(0,t.jsx)("li",{children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"text-gray-900 font-semibold",children:A.name})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-10",children:[(0,t.jsx)(x.default,{className:"p-6 bg-white border-gray-200",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gray-100 group",children:[(null===(a=A.images)||void 0===a?void 0:a[L])?(0,t.jsx)(o.OptimizedImage,{src:A.images[L].url,alt:A.images[L].alt||A.name,width:700,height:700,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-gray-400",children:"Product image"}),A.featured&&(0,t.jsx)("span",{className:"absolute top-4 left-4 rounded-full bg-blue-900 px-4 py-1.5 text-xs font-bold text-white shadow-lg",children:"Featured"})]}),(null===(l=A.images)||void 0===l?void 0:l.length)>1&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:A.images.map((e,s)=>(0,t.jsx)("button",{onClick:()=>M(s),className:"aspect-square overflow-hidden rounded-xl border-2 transition-all duration-200 ".concat(L===s?"border-blue-900 ring-2 ring-blue-900/20 shadow-md":"border-gray-200 hover:border-blue-500"),"aria-label":"Select image ".concat(s+1),children:(0,t.jsx)(o.OptimizedImage,{src:e.url,alt:e.alt||"".concat(A.name," ").concat(s+1),width:150,height:150,className:"h-full w-full object-cover"})},e.id||s))})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(x.default,{className:"p-8 space-y-6 bg-white border-gray-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-blue-600 font-bold mb-2",children:(null===(h=A.brand)||void 0===h?void 0:h.name)||"Dilitech"}),(0,t.jsx)("h1",{className:"text-4xl font-black text-gray-900 leading-tight",children:A.name}),A.category&&(0,t.jsxs)(i(),{href:"/products?category=".concat(A.category.slug),className:"inline-block mt-3 text-sm text-blue-900 hover:text-blue-700 font-medium transition-colors",children:[A.category.name," →"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("svg",{className:"w-5 h-5 ".concat(s<Math.floor(A.averageRating||0)?"text-amber-500":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s))}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:[A.averageRating?"".concat(A.averageRating.toFixed(1)," \xb7 "):"",A.reviewCount||0," review",1===A.reviewCount?"":"s"]}),A.reviewCount>0&&(0,t.jsx)(i(),{href:"#reviews",className:"text-sm text-blue-900 hover:text-blue-700 font-medium transition-colors",children:"View all →"})]}),(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-4 pb-4 border-b border-gray-200",children:[(0,t.jsx)("span",{className:"text-4xl font-black text-gray-900",children:(0,u.L)(A.price)}),A.originalPrice&&A.originalPrice>A.price&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-xl text-gray-400 line-through",children:(0,u.L)(A.originalPrice)}),(0,t.jsxs)("span",{className:"rounded-full bg-red-50 border border-red-200 px-4 py-1.5 text-sm font-bold text-red-700",children:["Save ",(0,u.L)(A.originalPrice-A.price)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm p-4 rounded-xl bg-gray-50 border border-gray-200",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(A.stock>0?"bg-green-500":"bg-red-500")}),(0,t.jsx)("span",{className:A.stock>0?"text-green-700 font-semibold":"text-red-700 font-semibold",children:A.stock>0?"In stock \xb7 ".concat(A.stock," units available"):"Currently out of stock"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-gray-50 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Quantity"}),(0,t.jsxs)("div",{className:"flex items-center rounded-xl border-2 border-gray-300 bg-white",children:[(0,t.jsx)("button",{onClick:()=>{S(e=>Math.max(1,e-1))},className:"px-4 py-2 text-lg text-gray-700 hover:text-blue-900 hover:bg-gray-50 transition disabled:opacity-30 disabled:cursor-not-allowed rounded-l-lg",disabled:R<=1,"aria-label":"Decrease quantity",children:"−"}),(0,t.jsx)("span",{className:"px-6 py-2 text-lg font-bold text-gray-900 border-x-2 border-gray-300 min-w-[60px] text-center",children:R}),(0,t.jsx)("button",{onClick:()=>{(null==A?void 0:A.stock)&&S(e=>Math.min(A.stock,e+1))},className:"px-4 py-2 text-lg text-gray-700 hover:text-blue-900 hover:bg-gray-50 transition disabled:opacity-30 disabled:cursor-not-allowed rounded-r-lg",disabled:A.stock<=R,"aria-label":"Increase quantity",children:"+"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(m.default,{onClick:Y,disabled:0===A.stock||"loading"===E.state,className:"w-full text-center justify-center py-4 text-base font-bold",children:"loading"===E.state?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding…"]}):"Add to cart"}),(0,t.jsxs)("button",{onClick:F,"aria-pressed":"success"===Q.state,className:"flex items-center justify-center gap-2 rounded-xl border-2 border-gray-300 bg-white px-4 py-3 text-gray-700 hover:border-blue-900 hover:text-blue-900 hover:bg-blue-50 transition-all duration-200 font-semibold",children:[(0,t.jsx)("svg",{className:"w-5 h-5 transition-colors ".concat("success"===Q.state?"text-red-500 fill-red-500":""),viewBox:"0 0 24 24",fill:"success"===Q.state?"currentColor":"none",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"success"===Q.state?"Saved":"Save to wishlist"]})]}),("success"===E.state||"error"===E.state)&&(0,t.jsxs)("div",{className:"text-sm p-4 rounded-xl ".concat("success"===E.state?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:[(0,t.jsx)("p",{className:"font-semibold mb-3",children:E.message}),"success"===E.state&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(i(),{href:"/cart",className:(0,m.buttonClasses)({variant:"secondary",size:"sm",className:"flex-1 justify-center"}),children:"View cart"}),(0,t.jsx)(i(),{href:"/checkout",className:(0,m.buttonClasses)({size:"sm",className:"flex-1 justify-center"}),children:"Checkout"})]})]}),("success"===Q.state||"error"===Q.state)&&(0,t.jsx)("p",{className:"text-sm p-3 rounded-xl font-semibold ".concat("success"===Q.state?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:Q.message})]})]}),(0,t.jsxs)(x.default,{className:"p-6 space-y-4 bg-gradient-to-br from-blue-50 to-white border-blue-200",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Benefits"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,t.jsx)("span",{className:"font-medium",children:"Free shipping on orders over KSh 7,500"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("span",{className:"font-medium",children:"60-day returns & instant swaps"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2-2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,t.jsx)("span",{className:"font-medium",children:"Verified Stripe & M-Pesa billing"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsx)("span",{className:"font-medium",children:"Concierge onboarding optional"})]})]})]})]})]}),(0,t.jsxs)(x.default,{className:"mt-10 p-8 space-y-6 bg-white border-gray-200",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",role:"tablist",children:["description","features","specifications","reviews"].map(e=>(0,t.jsx)("button",{onClick:()=>K(e),role:"tab","aria-selected":z===e,className:"py-4 px-1 border-b-2 font-semibold text-sm capitalize transition-all duration-200 ".concat(z===e?"border-blue-900 text-blue-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e},e))})}),(0,t.jsxs)("div",{className:"mt-8",children:["description"===z&&(0,t.jsx)("div",{className:"text-gray-700 leading-relaxed space-y-4 prose prose-lg max-w-none",children:(0,t.jsx)("p",{className:"text-base",children:A.description})}),"features"===z&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Key Features"}),(null===(b=A.features)||void 0===b?void 0:b.length)>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.features.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start p-4 rounded-xl bg-gray-50 border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mr-3 flex-shrink-0 mt-0.5",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:e.name})]},s))}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No features listed for this product."})]}),"specifications"===z&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Technical Specifications"}),(null===(p=A.specifications)||void 0===p?void 0:p.length)>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.specifications.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("span",{className:"text-gray-600",children:e.value})]},s))}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No specifications available for this product."})]}),"reviews"===z&&(0,t.jsxs)("div",{id:"reviews",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Customer Reviews"}),A.reviewCount>0&&(0,t.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[A.reviewCount," review",1===A.reviewCount?"":"s"]})]}),(null===(v=A.reviews)||void 0===v?void 0:v.length)>0?(0,t.jsx)("div",{className:"space-y-6",children:A.reviews.map(e=>{var s,a;return(0,t.jsxs)("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-900 font-bold text-sm",children:((null===(s=e.user)||void 0===s?void 0:s.name)||"A")[0].toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-gray-900 block",children:(null===(a=e.user)||void 0===a?void 0:a.name)||"Anonymous"}),(0,t.jsx)("div",{className:"flex items-center gap-1 mt-1",children:[void 0,void 0,void 0,void 0,void 0].map((s,a)=>(0,t.jsx)("svg",{className:"w-4 h-4 ".concat(a<e.rating?"text-amber-500":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),e.title&&(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),e.content&&(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.content})]},e.id)})}):(0,t.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-2xl",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,t.jsx)("p",{className:"text-gray-600 font-medium mb-2",children:"No reviews yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Be the first to review this product!"})]})]})]})]}),U.length>0&&(0,t.jsxs)("div",{className:"mt-12",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"You might also like"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Similar products you might be interested in"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:U.map(e=>{var s,a,r;return(0,t.jsx)(i(),{href:"/products/".concat(e.slug||e.id),className:"group block focus-visible:outline-none cursor-pointer",children:(0,t.jsxs)(x.default,{className:"flex flex-col gap-4 border-gray-200 group-hover:border-blue-900 group-hover:shadow-xl group-hover:-translate-y-1 transition-all duration-200 h-full",children:[(0,t.jsx)("div",{className:"relative h-48 w-full overflow-hidden rounded-xl bg-gray-100",children:(null===(a=e.images)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:s.url)?(0,t.jsx)(o.OptimizedImage,{src:e.images[0].url,alt:e.name,width:300,height:300,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No image"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:(null===(r=e.brand)||void 0===r?void 0:r.name)||"Dilitech"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-900 transition-colors line-clamp-2",children:e.name})]}),(0,t.jsx)("div",{className:"mt-auto pt-2",children:(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(0,u.L)(e.price)})})]})},e.id)})})]})]})})})}},5747:(e,s,a)=>{"use strict";a.d(s,{A:()=>d,OptimizedImage:()=>i});var t=a(5155),r=a(5565),l=a(2115);let i=e=>{let{src:s,alt:a,width:i,height:d,className:n="",priority:o=!1,placeholder:c="blur",...x}=e,[m,u]=(0,l.useState)(!0),[g,h]=(0,l.useState)(!1),b="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q==",p=()=>{u(!1)},v=()=>{h(!0),u(!1)};return g?(0,t.jsx)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(n),style:{width:i||"100%",height:d||"auto",aspectRatio:i&&d?"".concat(i,"/").concat(d):void 0},children:(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Image unavailable"})}):i&&d?(0,t.jsxs)("div",{className:"relative ".concat(n),style:{width:"100%",aspectRatio:"".concat(i,"/").concat(d)},children:[(0,t.jsx)(r.default,{src:s,alt:a,fill:!0,priority:o,placeholder:c,blurDataURL:b,onLoad:p,onError:v,className:"transition-opacity duration-300 object-cover ".concat(m?"opacity-0":"opacity-100"),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...x}),m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):i&&!d?(0,t.jsxs)("div",{className:"relative ".concat(n),style:{width:"100%",aspectRatio:"1"},children:[(0,t.jsx)(r.default,{src:s,alt:a,fill:!0,priority:o,placeholder:c,blurDataURL:b,onLoad:p,onError:v,className:"transition-opacity duration-300 object-cover ".concat(m?"opacity-0":"opacity-100"),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...x}),m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):(0,t.jsxs)("div",{className:"relative ".concat(n),children:[(0,t.jsx)(r.default,{src:s,alt:a,width:800,height:600,priority:o,placeholder:c,blurDataURL:b,onLoad:p,onError:v,className:"transition-opacity duration-300 w-full h-auto ".concat(m?"opacity-0":"opacity-100"),style:{width:"auto",height:"auto"},...x}),m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]})},d=i},9049:(e,s,a)=>{"use strict";a.d(s,{IX:()=>l,uL:()=>i,ud:()=>d});var t=a(5155);function r(){return(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"h-5 bg-slate-800 rounded w-32"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-1/2"})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-800",children:(0,t.jsx)("div",{className:"h-6 bg-slate-800 rounded w-24"})})]})}function l(e){let{count:s=5}=e;return(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:s}).map((e,s)=>(0,t.jsx)(r,{},s))})}function i(){return(0,t.jsx)("div",{className:"min-h-screen bg-transparent text-gray-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-10 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-64"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-10",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded-2xl"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:4}).map((e,s)=>(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded-xl"},s))})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-24"}),(0,t.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]})})]})]})})}function d(){return(0,t.jsx)("div",{className:"min-h-screen bg-transparent animate-pulse",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,t.jsx)("div",{className:"h-8 bg-slate-800 rounded w-48 mb-8"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsx)("div",{className:"space-y-6",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,t.jsx)("div",{className:"h-6 bg-slate-800 rounded w-32 mb-4"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"})]})]},s))}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,t.jsx)("div",{className:"h-6 bg-slate-800 rounded w-40 mb-6"}),(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-20"})]},s))})]})]})]})})}},1531:(e,s,a)=>{"use strict";a.r(s),a.d(s,{buttonClasses:()=>d,default:()=>n});var t=a(5155),r=a(7734);let l={primary:"bg-blue-900 text-white border border-blue-800 shadow-lg hover:bg-blue-800 hover:shadow-xl active:scale-[0.98] transition-all duration-200",secondary:"bg-white text-gray-700 border border-gray-300 hover:border-blue-900 hover:text-blue-900 hover:bg-blue-50 active:scale-[0.98] transition-all duration-200",ghost:"text-gray-700 hover:text-blue-900 border border-transparent hover:bg-blue-50 active:scale-[0.98] transition-all duration-200",outline:"border-2 border-blue-900 text-blue-900 hover:bg-blue-900 hover:text-white active:scale-[0.98] transition-all duration-200"},i={sm:"text-sm px-4 py-2",md:"text-base px-5 py-2.5",lg:"text-lg px-6 py-3"};function d(){let{variant:e="primary",size:s="md",className:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.cn)("inline-flex items-center justify-center rounded-xl font-semibold tracking-tight transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-900 focus-visible:ring-offset-white gap-2",l[e]||l.primary,i[s]||i.md,"disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",a)}function n(e){let{variant:s="primary",size:a="md",className:r,children:l,...i}=e;return(0,t.jsx)("button",{className:d({variant:s,size:a,className:r}),...i,children:l})}},6386:(e,s,a)=>{"use strict";a.d(s,{default:()=>i});var t=a(5155),r=a(7734);let l={default:"bg-white border border-gray-200 text-gray-900",muted:"bg-gray-50 border border-gray-200 text-gray-900",translucent:"bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-900",gradient:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 text-gray-900",outline:"bg-white border-2 border-gray-300 text-gray-900"};function i(e){let{className:s,children:a,padding:i="p-6",variant:d="default",...n}=e;return(0,t.jsx)("div",{className:(0,r.cn)("relative rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",l[d]||l.default,i,s),...n,children:a})}},7734:(e,s,a)=>{"use strict";function t(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.flatMap(e=>e?"string"==typeof e||Array.isArray(e)?e:"object"==typeof e?Object.entries(e).filter(e=>{let[,s]=e;return!!s}).map(e=>{let[s]=e;return s}):[]:[]).filter(Boolean).join(" ")}a.d(s,{cn:()=>t})},9663:(e,s,a)=>{"use strict";a.d(s,{L:()=>t});let t=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)}},e=>{var s=s=>e(e.s=s);e.O(0,[3830,1097,2432,7979,4884,7098,9744,2033,2322,9592,7331,2652,5030,8392,7694,9173,9401,5484,7358],()=>s(1536)),_N_E=e.O()}]);