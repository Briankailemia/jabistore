(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{6812:(e,t,r)=>{Promise.resolve().then(r.bind(r,3836))},3836:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(8173),l=r.n(s),i=r(2115),o=r(2615),n=r(1531),d=r(6386);r(6186);var c=r(4775),x=r(7908),u=r(5747),b=r(3619),m=r(9663);function h(){let{data:e,status:t}=(0,o.useSession)(),{data:r,loading:s,error:h,updateCartItem:v,removeFromCart:p,clearCart:y}=(0,b._$)(),f=(0,i.useMemo)(()=>{let e=(r||[]).reduce((e,t)=>{var r;return e+Number((null===(r=t.product)||void 0===r?void 0:r.price)||0)*Number(t.quantity||0)},0),t=e>75?0:12.99,a=.085*e;return{subtotal:e,shipping:t,tax:a,total:e+t+a}},[r]),A=async(e,t)=>{if(t<=0){await p(e);return}await v(e,t)},j=async e=>{await p(e)},w=async()=>{await y()};return"loading"===t||s?(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsx)(x.k,{size:"lg",color:"blue",text:"Loading your cart"})}):e?h?(0,a.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center px-4 bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsxs)(d.default,{className:"max-w-lg text-center space-y-4 bg-white border-2 border-gray-200 shadow-xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-gray-900",children:"We could not load your cart"}),(0,a.jsx)("p",{className:"text-gray-600",children:h})]})}):r&&0!==r.length?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50 to-white space-y-10 pb-20",children:[(0,a.jsxs)("section",{className:"relative overflow-hidden rounded-[36px] border-2 border-gray-200 bg-gradient-to-br from-blue-50 via-white to-blue-100 px-6 py-16 sm:px-10 shadow-lg mx-4",children:[(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute -top-24 left-10 h-72 w-72 rounded-full bg-blue-300/30 blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-32 right-0 h-80 w-80 rounded-full bg-indigo-300/25 blur-3xl"})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)(c.A,{variant:"glow",className:"inline-flex text-blue-900 bg-blue-100 border-blue-200 mb-4",children:"Cart"}),(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tight text-gray-900 mt-3",children:"Review your picks"}),(0,a.jsx)("p",{className:"text-gray-600 mt-3 text-lg",children:"Quantities update in real time and taxes adapt to your shipping address."})]})]}),(0,a.jsx)("section",{className:"px-4",children:(0,a.jsxs)("div",{className:"grid gap-8 lg:grid-cols-[minmax(0,1.6fr)_minmax(0,0.8fr)]",children:[(0,a.jsxs)(d.default,{className:"p-0 bg-white border-2 border-gray-200 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b-2 border-gray-100 px-6 py-5 bg-gray-50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 font-bold",children:"Cart items"}),(0,a.jsxs)("h2",{className:"text-2xl font-black text-gray-900 mt-1",children:[r.length," device",1===r.length?"":"s"]})]}),(0,a.jsx)("button",{onClick:w,className:"text-sm text-red-600 hover:text-red-700 font-bold transition-colors",children:"Clear cart"})]}),(0,a.jsx)("div",{className:"divide-y-2 divide-gray-100",children:r.map(e=>{var t,r,s,i,o,n,d,c,x,b,h,g;return(0,a.jsxs)("article",{className:"flex flex-col gap-4 px-6 py-5 sm:flex-row sm:items-center hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-xl border-2 border-gray-200 bg-gray-100",children:(0,a.jsx)(u.OptimizedImage,{src:(null===(s=e.product)||void 0===s?void 0:null===(r=s.images)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.url)||"/placeholder-product.jpg",alt:(null===(i=e.product)||void 0===i?void 0:i.name)||"Product",width:96,height:96,className:"h-full w-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 space-y-1",children:[(0,a.jsx)(l(),{href:"/products/".concat((null===(o=e.product)||void 0===o?void 0:o.slug)||(null===(n=e.product)||void 0===n?void 0:n.id)),className:"text-lg font-black text-gray-900 hover:text-blue-900 transition-colors block",children:null===(d=e.product)||void 0===d?void 0:d.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:null===(x=e.product)||void 0===x?void 0:null===(c=x.brand)||void 0===c?void 0:c.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:null===(h=e.product)||void 0===h?void 0:null===(b=h.category)||void 0===b?void 0:b.name}),(0,a.jsx)("p",{className:"text-base font-black text-blue-900 mt-2",children:(0,m.L)(null===(g=e.product)||void 0===g?void 0:g.price)})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>A(e.id,e.quantity-1),className:"h-10 w-10 rounded-xl border-2 border-gray-300 text-gray-700 hover:border-blue-900 hover:text-blue-900 hover:bg-blue-50 font-bold transition-colors","aria-label":"Decrease quantity",children:"âˆ’"}),(0,a.jsx)("span",{className:"w-12 text-center text-gray-900 font-black text-lg",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>A(e.id,e.quantity+1),className:"h-10 w-10 rounded-xl border-2 border-gray-300 text-gray-700 hover:border-blue-900 hover:text-blue-900 hover:bg-blue-50 font-bold transition-colors","aria-label":"Increase quantity",children:"+"})]}),(0,a.jsx)("button",{onClick:()=>j(e.id),className:"text-sm text-red-600 hover:text-red-700 font-bold transition-colors",children:"Remove"})]})]},e.id)})})]}),(0,a.jsxs)(d.default,{className:"space-y-6 bg-white border-2 border-gray-200 shadow-lg sticky top-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 font-bold",children:"Order summary"}),(0,a.jsx)("h2",{className:"text-2xl font-black text-gray-900 mt-2",children:"Ready for checkout"})]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,a.jsx)(g,{label:"Subtotal",value:(0,m.L)(f.subtotal)}),(0,a.jsx)(g,{label:"Shipping",value:0===f.shipping?"Free":(0,m.L)(f.shipping)}),(0,a.jsx)(g,{label:"Tax",value:(0,m.L)(f.tax)}),(0,a.jsxs)("div",{className:"border-t-2 border-gray-200 pt-3 text-base font-black text-gray-900 flex justify-between",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{className:"text-blue-900",children:(0,m.L)(f.total)})]})]}),(0,a.jsx)(l(),{href:"/checkout",className:(0,n.buttonClasses)({variant:"primary",className:"w-full text-center font-bold"}),children:"Go to checkout"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Stripe + M-Pesa supported. Taxes recalculate when you confirm your delivery address."})]})]})})]}):(0,a.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center px-4 bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsxs)(d.default,{className:"max-w-xl text-center space-y-4 bg-white border-2 border-gray-200 shadow-xl",children:[(0,a.jsx)(c.A,{variant:"glow",className:"mx-auto w-fit bg-blue-50 text-blue-900 border-blue-200",children:"Cart"}),(0,a.jsx)("h2",{className:"text-3xl font-black text-gray-900",children:"Your cart is waiting"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Save devices to this space from any page and we will sync them across desktop and mobile."}),(0,a.jsx)(l(),{href:"/products",className:(0,n.buttonClasses)({variant:"primary",className:"w-full sm:w-auto mx-auto"}),children:"Browse products"})]})}):(0,a.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center px-4 bg-gradient-to-br from-white via-blue-50 to-white",children:(0,a.jsxs)(d.default,{className:"max-w-lg text-center space-y-4 bg-white border-2 border-gray-200 shadow-xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-gray-900",children:"Sign in to view your cart"}),(0,a.jsx)("p",{className:"text-gray-600",children:"We keep every item synced to your Dilitech ID."}),(0,a.jsx)(l(),{href:"/auth/signin",className:(0,n.buttonClasses)({variant:"primary",size:"md",className:"w-full"}),children:"Sign in"})]})})}function g(e){let{label:t,value:r}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 font-medium",children:t}),(0,a.jsx)("span",{className:"font-black text-gray-900",children:r})]})}},5747:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,OptimizedImage:()=>i});var a=r(5155),s=r(5565),l=r(2115);let i=e=>{let{src:t,alt:r,width:i,height:o,className:n="",priority:d=!1,placeholder:c="blur",...x}=e,[u,b]=(0,l.useState)(!0),[m,h]=(0,l.useState)(!1),g="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q==",v=()=>{b(!1)},p=()=>{h(!0),b(!1)};return m?(0,a.jsx)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(n),style:{width:i||"100%",height:o||"auto",aspectRatio:i&&o?"".concat(i,"/").concat(o):void 0},children:(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"Image unavailable"})}):i&&o?(0,a.jsxs)("div",{className:"relative ".concat(n),style:{width:"100%",aspectRatio:"".concat(i,"/").concat(o)},children:[(0,a.jsx)(s.default,{src:t,alt:r,fill:!0,priority:d,placeholder:c,blurDataURL:g,onLoad:v,onError:p,className:"transition-opacity duration-300 object-cover ".concat(u?"opacity-0":"opacity-100"),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...x}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):i&&!o?(0,a.jsxs)("div",{className:"relative ".concat(n),style:{width:"100%",aspectRatio:"1"},children:[(0,a.jsx)(s.default,{src:t,alt:r,fill:!0,priority:d,placeholder:c,blurDataURL:g,onLoad:v,onError:p,className:"transition-opacity duration-300 object-cover ".concat(u?"opacity-0":"opacity-100"),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...x}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):(0,a.jsxs)("div",{className:"relative ".concat(n),children:[(0,a.jsx)(s.default,{src:t,alt:r,width:800,height:600,priority:d,placeholder:c,blurDataURL:g,onLoad:v,onError:p,className:"transition-opacity duration-300 w-full h-auto ".concat(u?"opacity-0":"opacity-100"),style:{width:"auto",height:"auto"},...x}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]})},o=i},4775:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155),s=r(7734);function l(e){let{className:t,children:r,variant:l="default",...i}=e,o={default:"bg-blue-50 text-blue-700 border border-blue-200",success:"bg-emerald-50 text-emerald-700 border border-emerald-200",warning:"bg-amber-50 text-amber-700 border border-amber-200",outline:"border border-gray-300 text-gray-700 bg-white",glow:"border border-blue-600/50 text-blue-700 bg-gradient-to-r from-blue-50 to-blue-100"};return(0,a.jsx)("span",{className:(0,s.cn)("inline-flex items-center rounded-full px-3 py-1 text-[0.65rem] font-semibold tracking-[0.3em] uppercase",o[l]||o.default,t),...i,children:r})}},1531:(e,t,r)=>{"use strict";r.r(t),r.d(t,{buttonClasses:()=>o,default:()=>n});var a=r(5155),s=r(7734);let l={primary:"bg-blue-900 text-white border border-blue-800 shadow-lg hover:bg-blue-800 hover:shadow-xl active:scale-[0.98] transition-all duration-200",secondary:"bg-white text-gray-700 border border-gray-300 hover:border-blue-900 hover:text-blue-900 hover:bg-blue-50 active:scale-[0.98] transition-all duration-200",ghost:"text-gray-700 hover:text-blue-900 border border-transparent hover:bg-blue-50 active:scale-[0.98] transition-all duration-200",outline:"border-2 border-blue-900 text-blue-900 hover:bg-blue-900 hover:text-white active:scale-[0.98] transition-all duration-200"},i={sm:"text-sm px-4 py-2",md:"text-base px-5 py-2.5",lg:"text-lg px-6 py-3"};function o(){let{variant:e="primary",size:t="md",className:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.cn)("inline-flex items-center justify-center rounded-xl font-semibold tracking-tight transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-900 focus-visible:ring-offset-white gap-2",l[e]||l.primary,i[t]||i.md,"disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",r)}function n(e){let{variant:t="primary",size:r="md",className:s,children:l,...i}=e;return(0,a.jsx)("button",{className:o({variant:t,size:r,className:s}),...i,children:l})}},6386:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(5155),s=r(7734);let l={default:"bg-white border border-gray-200 text-gray-900",muted:"bg-gray-50 border border-gray-200 text-gray-900",translucent:"bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-900",gradient:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 text-gray-900",outline:"bg-white border-2 border-gray-300 text-gray-900"};function i(e){let{className:t,children:r,padding:i="p-6",variant:o="default",...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)("relative rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",l[o]||l.default,i,t),...n,children:r})}},6186:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(5155),s=r(7734),l=r(4775);function i(e){let{eyebrow:t,eyebrowVariant:r="outline",title:i,description:o,align:n="center",className:d}=e;return(0,a.jsxs)("div",{className:(0,s.cn)("space-y-4 relative","center"===n?"text-center max-w-3xl mx-auto":"",d),children:[(0,a.jsx)("div",{className:"absolute inset-x-0 -top-4 hidden sm:block",children:(0,a.jsx)("div",{className:"h-px bg-gradient-to-r from-transparent via-blue-600/40 to-transparent"})}),t&&(0,a.jsx)(l.A,{variant:r,className:(0,s.cn)("tracking-[0.3em] text-xs font-bold","center"===n&&"mx-auto"),children:t}),i&&(0,a.jsx)("h2",{className:(0,s.cn)("text-3xl md:text-5xl font-black text-gray-900 leading-tight","center"===n&&"mx-auto"),children:i}),o&&(0,a.jsx)("p",{className:"text-gray-600 text-base md:text-lg leading-relaxed max-w-2xl mx-auto",children:o})]})}},7734:(e,t,r)=>{"use strict";function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.flatMap(e=>e?"string"==typeof e||Array.isArray(e)?e:"object"==typeof e?Object.entries(e).filter(e=>{let[,t]=e;return!!t}).map(e=>{let[t]=e;return t}):[]:[]).filter(Boolean).join(" ")}r.d(t,{cn:()=>a})},9663:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});let a=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)}},e=>{var t=t=>e(e.s=t);e.O(0,[3830,1097,2432,7979,4884,7098,9744,2033,2322,9592,7331,2652,5030,8392,7694,9173,9401,5484,7358],()=>t(6812)),_N_E=e.O()}]);