(()=>{var e={};e.id=2959,e.ids=[2959],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},73312:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=s(70260),a=s(28203),o=s(25155),l=s.n(o),n=s(67292),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(r,i);let c=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94654)),"/Users/user/Desktop/RogueApe/work/jabistore/src/app/search/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62804)),"/Users/user/Desktop/RogueApe/work/jabistore/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/user/Desktop/RogueApe/work/jabistore/src/app/search/page.js"],p={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},57806:(e,r,s)=>{Promise.resolve().then(s.bind(s,94654))},20854:(e,r,s)=>{Promise.resolve().then(s.bind(s,12650))},12650:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var t=s(45512),a=s(58009),o=s(79334),l=s(28531),n=s.n(l),i=s(80513),c=s(79420),d=s(42701);let p={trending:["AeroBook X15","Lumina One Pro","Creator monitor","GaN dock"],categories:["Laptops & Ultrabooks","Audio & Entertainment","Creator gear"],brands:["AeroBook Labs","Lumina Mobile","PulseGear Audio"]};function u(){let e=(0,o.useSearchParams)().get("q")||"",[r,s]=(0,a.useState)(e),[l,d]=(0,a.useState)("products"),[u,b]=(0,a.useState)("relevance"),[j,f]=(0,a.useState)({products:[],categories:[],brands:[]}),[v,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),{data:k}=(0,i.Ck)(),{data:C}=(0,i.Ek)(),P=async e=>{if(e.trim())try{y(!0),w(null);let r=await i.Ay.search(e.trim(),{limit:24}),s=r?.products||r?.data?.products||[],t=Array.isArray(k)?k:k?.data||[],a=Array.isArray(C)?C:C?.data||[],o=t.filter(r=>{let s=e.toLowerCase();return r.name.toLowerCase().includes(s)||(r.description||"").toLowerCase().includes(s)}),l=a.filter(r=>{let s=e.toLowerCase();return r.name.toLowerCase().includes(s)||(r.description||"").toLowerCase().includes(s)});f({products:s,categories:o,brands:l})}catch(e){console.error("Search error:",e),w("Something went wrong while searching. Please try again.")}finally{y(!1)}},A=(0,a.useMemo)(()=>{let e=[...j.products];switch(u){case"price-low":return e.sort((e,r)=>e.price-r.price);case"price-high":return e.sort((e,r)=>r.price-e.price);case"name":return e.sort((e,r)=>e.name.localeCompare(r.name));default:return e}},[j.products,u]),S=j.products.length+j.categories.length+j.brands.length;return(0,t.jsx)("div",{className:"min-h-screen bg-transparent text-white",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-10",children:[(0,t.jsxs)("header",{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r.trim()&&P(r.trim())},className:"relative",children:[(0,t.jsx)("input",{value:r,onChange:e=>s(e.target.value),placeholder:"Search laptops, phones, creator gear...",className:"w-full bg-slate-900 border border-slate-800 rounded-3xl py-4 pl-12 pr-36 text-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50"}),(0,t.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,t.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gradient-to-r from-sky-500 to-blue-500 px-6 py-2 rounded-2xl font-semibold hover:opacity-90",children:"Search"})]}),!r&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-slate-300",children:[(0,t.jsx)(g,{title:"Trending",values:p.trending,onSelect:s}),(0,t.jsx)(g,{title:"Categories",values:p.categories,onSelect:s}),(0,t.jsx)(g,{title:"Brands",values:p.brands,onSelect:s})]})]}),v&&(0,t.jsx)("div",{className:"flex justify-center py-20",children:(0,t.jsx)(c.A,{size:"lg",color:"blue",text:"Searching the catalog"})}),N&&(0,t.jsx)("div",{className:"bg-rose-500/10 border border-rose-500/30 rounded-3xl p-6 text-rose-200",children:N}),!v&&r&&0===S&&!N&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-12 text-center space-y-4",children:[(0,t.jsxs)("p",{className:"text-xl font-semibold",children:["No matches for “",r,"”."]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Try another keyword or explore the curated categories below."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,t.jsx)(n(),{href:"/products",className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-sky-500 to-blue-500 text-white font-semibold",children:"Browse all products"}),(0,t.jsx)(n(),{href:"/categories",className:"px-6 py-3 rounded-2xl border border-slate-700 text-white hover:bg-slate-900",children:"Explore categories"})]})]}),!v&&S>0&&(0,t.jsxs)("section",{className:"space-y-8",children:[(0,t.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-500",children:"Results"}),(0,t.jsxs)("h2",{className:"text-3xl font-semibold mt-1",children:["“",r,"”"]}),(0,t.jsxs)("p",{className:"text-slate-400",children:[S," match",1!==S?"es":""]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 text-sm",children:["products","categories","brands"].map(e=>(0,t.jsx)("button",{onClick:()=>d(e),className:`px-4 py-2 rounded-full border ${l===e?"border-sky-500 text-white bg-sky-500/10":"border-slate-700 text-slate-300"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),j.products.length>0&&"products"===l&&(0,t.jsxs)("select",{value:u,onChange:e=>b(e.target.value),className:"bg-slate-900 border border-slate-800 rounded-2xl px-4 py-2 text-sm text-white",children:[(0,t.jsx)("option",{value:"relevance",children:"Relevance"}),(0,t.jsx)("option",{value:"name",children:"Name A-Z"}),(0,t.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,t.jsx)("option",{value:"price-high",children:"Price: High to Low"})]})]}),("products"===l||"products"===l)&&j.products.length>0&&(0,t.jsx)(x,{products:A}),"categories"===l&&j.categories.length>0&&(0,t.jsx)(m,{categories:j.categories}),"brands"===l&&j.brands.length>0&&(0,t.jsx)(h,{brands:j.brands})]})]})})}function x({products:e}){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsx)(n(),{href:`/products/${e.slug||e.id}`,className:"group block focus-visible:outline-none",children:(0,t.jsxs)("article",{className:"bg-[color:var(--surface-secondary)] border border-white/10 rounded-3xl overflow-hidden transition hover:border-brand-sky/40",children:[(0,t.jsx)("div",{className:"h-48 bg-slate-800 flex items-center justify-center overflow-hidden",children:e.images?.[0]?.url?(0,t.jsx)("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover transition duration-300 group-hover:scale-105"}):(0,t.jsx)("span",{className:"text-slate-500",children:"Image coming soon"})}),(0,t.jsxs)("div",{className:"p-5 space-y-2",children:[(0,t.jsxs)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:[e.brand?.name||"Dilitech"," \xb7 ",e.category?.name||"Catalog"]}),(0,t.jsx)("h3",{className:"text-lg font-semibold line-clamp-2 text-white group-hover:text-brand-sky",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-slate-400 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,t.jsx)("p",{className:"text-xl font-semibold text-sky-200",children:(0,d.L)(e.price)}),e.averageRating>0&&(0,t.jsxs)("p",{className:"text-xs text-slate-400",children:["★ ",e.averageRating.toFixed(1)]})]})]})]})},e.id))})}function m({categories:e}){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,t.jsx)(n(),{href:`/products?category=${e.slug}`,children:(0,t.jsxs)("article",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-sky-500/40 transition",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Category"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mt-2",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-2 line-clamp-2",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-4",children:[e._count?.products||0," products"]})]})},e.id))})}function h({brands:e}){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,t.jsx)(n(),{href:`/products?brand=${e.slug}`,children:(0,t.jsxs)("article",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-sky-500/40 transition",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Brand"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mt-2",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-2 line-clamp-3",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-4",children:[e._count?.products||0," products"]})]})},e.id))})}function g({title:e,values:r,onSelect:s}){return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500 mb-3",children:e}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,t.jsx)("button",{onClick:()=>s(e),className:"px-3 py-1 rounded-full border border-slate-700 text-slate-300 hover:border-sky-500/40 hover:text-white text-xs",children:e},e))})]})}},42701:(e,r,s)=>{"use strict";s.d(r,{L:()=>t});let t=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)},94654:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/user/Desktop/RogueApe/work/jabistore/src/app/search/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/RogueApe/work/jabistore/src/app/search/page.js","default")},70440:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[5994,2732,7254,8077,4880],()=>s(73312));module.exports=t})();