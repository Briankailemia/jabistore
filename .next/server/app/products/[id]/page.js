(()=>{var e={};e.id=3403,e.ids=[3403],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},10750:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var t=r(70260),a=r(28203),i=r(25155),l=r.n(i),d=r(67292),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);r.d(s,n);let o=["",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64354)),"/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/[id]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"/Users/user/Desktop/RogueApe/work/jabistore/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/[id]/page.js"],x={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/products/[id]/page",pathname:"/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},27096:(e,s,r)=>{Promise.resolve().then(r.bind(r,64354))},45592:(e,s,r)=>{Promise.resolve().then(r.bind(r,47397))},47397:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var t=r(45512),a=r(58009),i=r(28531),l=r.n(i),d=r(79334),n=r(90993),o=r(9031);r(79420);var c=r(69529),x=r(4512),m=r(44082),u=r(42701),g=r(80513);function h(){let e=(0,d.useParams)(),s=(0,d.useRouter)(),{data:r,status:i,update:h}=(0,n.useSession)(),{data:p,loading:b,error:j}=(0,g.Bj)(e.id),{refreshCart:v}=(0,g._$)(),[f,y]=(0,a.useState)(0),[N,w]=(0,a.useState)(1),[A,k]=(0,a.useState)("description"),[C,B]=(0,a.useState)({state:"idle",message:""}),[L,R]=(0,a.useState)({state:"idle",message:""}),{data:M}=(0,g.QT)({category:p?.category?.slug,limit:4}),$=(M?.data?.products||M?.products||[]).filter(e=>e.id!==p?.id).slice(0,4),P=()=>{let r=encodeURIComponent(`/products/${e.id}`);s.push(`/auth/signin?callbackUrl=${r}`)},z=async()=>{if("loading"===i){B({state:"loading",message:"Checking session…"});let e=0;for(;"loading"===i&&e<20;)await new Promise(e=>setTimeout(e,100)),e++}if(!r||"unauthenticated"===i){P();return}try{B({state:"loading",message:"Adding to cart…"});let e=await g.Ay.addToCart(p.id,N);if(e&&!e.success&&e.message)throw Error(e.message);B({state:"success",message:`${N} item${N>1?"s":""} added to your cart.`}),setTimeout(()=>{v()},300),setTimeout(()=>{B({state:"idle",message:""})},3e3)}catch(e){if(console.error("Add to cart error:",e),"UNAUTHORIZED"===e.message||e.message.includes("401")||e.message.includes("Unauthorized"))try{if(await h(),await new Promise(e=>setTimeout(e,500)),!r||"unauthenticated"===i){B({state:"error",message:"Your session expired. Redirecting to sign in..."}),setTimeout(()=>{P()},1500);return}B({state:"loading",message:"Retrying..."}),await g.Ay.addToCart(p.id,N),B({state:"success",message:`${N} item${N>1?"s":""} added to your cart.`}),await h()}catch(e){B({state:"error",message:"Your session expired. Please sign in again."}),setTimeout(()=>{P()},2e3)}else B({state:"error",message:e.message||"Unable to add to cart."})}},S=async()=>{if("loading"===i){R({state:"loading",message:"Checking session…"});let e=0;for(;"loading"===i&&e<20;)await new Promise(e=>setTimeout(e,100)),e++}if(!r||"unauthenticated"===i){P();return}try{R({state:"loading",message:""}),await g.Ay.addToWishlist(p.id),R({state:"success",message:"Saved to your wishlist."}),await h(),setTimeout(()=>{R({state:"idle",message:""})},3e3)}catch(e){if("UNAUTHORIZED"===e.message||e.message.includes("401")||e.message.includes("Unauthorized"))try{if(await h(),await new Promise(e=>setTimeout(e,500)),!r||"unauthenticated"===i){R({state:"error",message:"Your session expired. Redirecting to sign in..."}),setTimeout(()=>{P()},1500);return}R({state:"loading",message:"Retrying..."}),await g.Ay.addToWishlist(p.id),R({state:"success",message:"Saved to your wishlist."}),await h()}catch(e){R({state:"error",message:"Your session expired. Please sign in again."}),setTimeout(()=>{P()},2e3)}else R({state:"error",message:e.message||"Unable to save to wishlist."})}};return b?(0,t.jsx)(c.uL,{}):j||!p?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-transparent px-4",children:(0,t.jsxs)(x.default,{className:"max-w-lg text-center space-y-4 bg-white border-gray-200",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:j?"Error loading product":"Product not found"}),(0,t.jsx)("p",{className:"text-gray-600",children:j||"The product you're looking for doesn't exist."}),(0,t.jsx)(l(),{href:"/products",className:(0,m.buttonClasses)({size:"md",className:"w-full justify-center"}),children:"Browse products"})]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"min-h-screen bg-transparent text-gray-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-10",children:[(0,t.jsx)("nav",{className:"flex flex-wrap items-center text-sm text-gray-600 gap-2","aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/",className:"hover:text-blue-900 transition-colors",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/products",className:"hover:text-blue-900 transition-colors",children:"Products"})}),(0,t.jsx)("li",{children:(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"text-gray-900 font-semibold",children:p.name})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-10",children:[(0,t.jsx)(x.default,{className:"p-6 bg-white border-gray-200",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gray-100 group",children:[p.images?.[f]?(0,t.jsx)(o.OptimizedImage,{src:p.images[f].url,alt:p.images[f].alt||p.name,width:700,height:700,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-gray-400",children:"Product image"}),p.featured&&(0,t.jsx)("span",{className:"absolute top-4 left-4 rounded-full bg-blue-900 px-4 py-1.5 text-xs font-bold text-white shadow-lg",children:"Featured"})]}),p.images?.length>1&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:p.images.map((e,s)=>(0,t.jsx)("button",{onClick:()=>y(s),className:`aspect-square overflow-hidden rounded-xl border-2 transition-all duration-200 ${f===s?"border-blue-900 ring-2 ring-blue-900/20 shadow-md":"border-gray-200 hover:border-blue-500"}`,"aria-label":`Select image ${s+1}`,children:(0,t.jsx)(o.OptimizedImage,{src:e.url,alt:e.alt||`${p.name} ${s+1}`,width:150,height:150,className:"h-full w-full object-cover"})},e.id||s))})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(x.default,{className:"p-8 space-y-6 bg-white border-gray-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-blue-600 font-bold mb-2",children:p.brand?.name||"Dilitech"}),(0,t.jsx)("h1",{className:"text-4xl font-black text-gray-900 leading-tight",children:p.name}),p.category&&(0,t.jsxs)(l(),{href:`/products?category=${p.category.slug}`,className:"inline-block mt-3 text-sm text-blue-900 hover:text-blue-700 font-medium transition-colors",children:[p.category.name," →"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("svg",{className:`w-5 h-5 ${s<Math.floor(p.averageRating||0)?"text-amber-500":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s))}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:[p.averageRating?`${p.averageRating.toFixed(1)} \xb7 `:"",p.reviewCount||0," review",1===p.reviewCount?"":"s"]}),p.reviewCount>0&&(0,t.jsx)(l(),{href:"#reviews",className:"text-sm text-blue-900 hover:text-blue-700 font-medium transition-colors",children:"View all →"})]}),(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-4 pb-4 border-b border-gray-200",children:[(0,t.jsx)("span",{className:"text-4xl font-black text-gray-900",children:(0,u.L)(p.price)}),p.originalPrice&&p.originalPrice>p.price&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-xl text-gray-400 line-through",children:(0,u.L)(p.originalPrice)}),(0,t.jsxs)("span",{className:"rounded-full bg-red-50 border border-red-200 px-4 py-1.5 text-sm font-bold text-red-700",children:["Save ",(0,u.L)(p.originalPrice-p.price)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm p-4 rounded-xl bg-gray-50 border border-gray-200",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${p.stock>0?"bg-green-500":"bg-red-500"}`}),(0,t.jsx)("span",{className:p.stock>0?"text-green-700 font-semibold":"text-red-700 font-semibold",children:p.stock>0?`In stock \xb7 ${p.stock} units available`:"Currently out of stock"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-gray-50 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:"Quantity"}),(0,t.jsxs)("div",{className:"flex items-center rounded-xl border-2 border-gray-300 bg-white",children:[(0,t.jsx)("button",{onClick:()=>{w(e=>Math.max(1,e-1))},className:"px-4 py-2 text-lg text-gray-700 hover:text-blue-900 hover:bg-gray-50 transition disabled:opacity-30 disabled:cursor-not-allowed rounded-l-lg",disabled:N<=1,"aria-label":"Decrease quantity",children:"−"}),(0,t.jsx)("span",{className:"px-6 py-2 text-lg font-bold text-gray-900 border-x-2 border-gray-300 min-w-[60px] text-center",children:N}),(0,t.jsx)("button",{onClick:()=>{p?.stock&&w(e=>Math.min(p.stock,e+1))},className:"px-4 py-2 text-lg text-gray-700 hover:text-blue-900 hover:bg-gray-50 transition disabled:opacity-30 disabled:cursor-not-allowed rounded-r-lg",disabled:p.stock<=N,"aria-label":"Increase quantity",children:"+"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(m.default,{onClick:z,disabled:0===p.stock||"loading"===C.state,className:"w-full text-center justify-center py-4 text-base font-bold",children:"loading"===C.state?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding…"]}):"Add to cart"}),(0,t.jsxs)("button",{onClick:S,"aria-pressed":"success"===L.state,className:"flex items-center justify-center gap-2 rounded-xl border-2 border-gray-300 bg-white px-4 py-3 text-gray-700 hover:border-blue-900 hover:text-blue-900 hover:bg-blue-50 transition-all duration-200 font-semibold",children:[(0,t.jsx)("svg",{className:`w-5 h-5 transition-colors ${"success"===L.state?"text-red-500 fill-red-500":""}`,viewBox:"0 0 24 24",fill:"success"===L.state?"currentColor":"none",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),"success"===L.state?"Saved":"Save to wishlist"]})]}),("success"===C.state||"error"===C.state)&&(0,t.jsxs)("div",{className:`text-sm p-4 rounded-xl ${"success"===C.state?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[(0,t.jsx)("p",{className:"font-semibold mb-3",children:C.message}),"success"===C.state&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(l(),{href:"/cart",className:(0,m.buttonClasses)({variant:"secondary",size:"sm",className:"flex-1 justify-center"}),children:"View cart"}),(0,t.jsx)(l(),{href:"/checkout",className:(0,m.buttonClasses)({size:"sm",className:"flex-1 justify-center"}),children:"Checkout"})]})]}),("success"===L.state||"error"===L.state)&&(0,t.jsx)("p",{className:`text-sm p-3 rounded-xl font-semibold ${"success"===L.state?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:L.message})]})]}),(0,t.jsxs)(x.default,{className:"p-6 space-y-4 bg-gradient-to-br from-blue-50 to-white border-blue-200",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Benefits"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,t.jsx)("span",{className:"font-medium",children:"Free shipping on orders over KSh 7,500"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("span",{className:"font-medium",children:"60-day returns & instant swaps"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2-2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,t.jsx)("span",{className:"font-medium",children:"Verified Stripe & M-Pesa billing"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center mr-3 flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsx)("span",{className:"font-medium",children:"Concierge onboarding optional"})]})]})]})]})]}),(0,t.jsxs)(x.default,{className:"mt-10 p-8 space-y-6 bg-white border-gray-200",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",role:"tablist",children:["description","features","specifications","reviews"].map(e=>(0,t.jsx)("button",{onClick:()=>k(e),role:"tab","aria-selected":A===e,className:`py-4 px-1 border-b-2 font-semibold text-sm capitalize transition-all duration-200 ${A===e?"border-blue-900 text-blue-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e},e))})}),(0,t.jsxs)("div",{className:"mt-8",children:["description"===A&&(0,t.jsx)("div",{className:"text-gray-700 leading-relaxed space-y-4 prose prose-lg max-w-none",children:(0,t.jsx)("p",{className:"text-base",children:p.description})}),"features"===A&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Key Features"}),p.features?.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.features.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start p-4 rounded-xl bg-gray-50 border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mr-3 flex-shrink-0 mt-0.5",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:e.name})]},s))}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No features listed for this product."})]}),"specifications"===A&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Technical Specifications"}),p.specifications?.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.specifications.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("span",{className:"text-gray-600",children:e.value})]},s))}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No specifications available for this product."})]}),"reviews"===A&&(0,t.jsxs)("div",{id:"reviews",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Customer Reviews"}),p.reviewCount>0&&(0,t.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[p.reviewCount," review",1===p.reviewCount?"":"s"]})]}),p.reviews?.length>0?(0,t.jsx)("div",{className:"space-y-6",children:p.reviews.map(e=>(0,t.jsxs)("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-900 font-bold text-sm",children:(e.user?.name||"A")[0].toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-gray-900 block",children:e.user?.name||"Anonymous"}),(0,t.jsx)("div",{className:"flex items-center gap-1 mt-1",children:[void 0,void 0,void 0,void 0,void 0].map((s,r)=>(0,t.jsx)("svg",{className:`w-4 h-4 ${r<e.rating?"text-amber-500":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),e.title&&(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),e.content&&(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.content})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-2xl",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,t.jsx)("p",{className:"text-gray-600 font-medium mb-2",children:"No reviews yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Be the first to review this product!"})]})]})]})]}),$.length>0&&(0,t.jsxs)("div",{className:"mt-12",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"You might also like"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Similar products you might be interested in"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:$.map(e=>(0,t.jsx)(l(),{href:`/products/${e.slug||e.id}`,className:"group block focus-visible:outline-none cursor-pointer",children:(0,t.jsxs)(x.default,{className:"flex flex-col gap-4 border-gray-200 group-hover:border-blue-900 group-hover:shadow-xl group-hover:-translate-y-1 transition-all duration-200 h-full",children:[(0,t.jsx)("div",{className:"relative h-48 w-full overflow-hidden rounded-xl bg-gray-100",children:e.images?.[0]?.url?(0,t.jsx)(o.OptimizedImage,{src:e.images[0].url,alt:e.name,width:300,height:300,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No image"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:e.brand?.name||"Dilitech"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-900 transition-colors line-clamp-2",children:e.name})]}),(0,t.jsx)("div",{className:"mt-auto pt-2",children:(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(0,u.L)(e.price)})})]})},e.id))})]})]})})})}},9031:(e,s,r)=>{"use strict";r.d(s,{A:()=>d,OptimizedImage:()=>l});var t=r(45512),a=r(45103),i=r(58009);let l=({src:e,alt:s,width:r,height:l,className:d="",priority:n=!1,placeholder:o="blur",...c})=>{let[x,m]=(0,i.useState)(!0),[u,g]=(0,i.useState)(!1),h="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q==",p=()=>{m(!1)},b=()=>{g(!0),m(!1)};return u?(0,t.jsx)("div",{className:`bg-gray-200 flex items-center justify-center ${d}`,style:{width:r||"100%",height:l||"auto",aspectRatio:r&&l?`${r}/${l}`:void 0},children:(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Image unavailable"})}):r&&l?(0,t.jsxs)("div",{className:`relative ${d}`,style:{width:"100%",aspectRatio:`${r}/${l}`},children:[(0,t.jsx)(a.default,{src:e,alt:s,fill:!0,priority:n,placeholder:o,blurDataURL:h,onLoad:p,onError:b,className:`transition-opacity duration-300 object-cover ${x?"opacity-0":"opacity-100"}`,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...c}),x&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):r&&!l?(0,t.jsxs)("div",{className:`relative ${d}`,style:{width:"100%",aspectRatio:"1"},children:[(0,t.jsx)(a.default,{src:e,alt:s,fill:!0,priority:n,placeholder:o,blurDataURL:h,onLoad:p,onError:b,className:`transition-opacity duration-300 object-cover ${x?"opacity-0":"opacity-100"}`,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...c}),x&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):(0,t.jsxs)("div",{className:`relative ${d}`,children:[(0,t.jsx)(a.default,{src:e,alt:s,width:800,height:600,priority:n,placeholder:o,blurDataURL:h,onLoad:p,onError:b,className:`transition-opacity duration-300 w-full h-auto ${x?"opacity-0":"opacity-100"}`,style:{width:"auto",height:"auto"},...c}),x&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]})},d=l},69529:(e,s,r)=>{"use strict";r.d(s,{IX:()=>i,uL:()=>l,ud:()=>d});var t=r(45512);function a(){return(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"h-5 bg-slate-800 rounded w-32"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-1/2"})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-800",children:(0,t.jsx)("div",{className:"h-6 bg-slate-800 rounded w-24"})})]})}function i({count:e=5}){return(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,s)=>(0,t.jsx)(a,{},s))})}function l(){return(0,t.jsx)("div",{className:"min-h-screen bg-transparent text-gray-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-10 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-64"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-10",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded-2xl"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:4}).map((e,s)=>(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded-xl"},s))})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"}),(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-24"}),(0,t.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]})})]})]})})}function d(){return(0,t.jsx)("div",{className:"min-h-screen bg-transparent animate-pulse",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,t.jsx)("div",{className:"h-8 bg-slate-800 rounded w-48 mb-8"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsx)("div",{className:"space-y-6",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,t.jsx)("div",{className:"h-6 bg-slate-800 rounded w-32 mb-4"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"})]})]},s))}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,t.jsx)("div",{className:"h-6 bg-slate-800 rounded w-40 mb-6"}),(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"}),(0,t.jsx)("div",{className:"h-4 bg-slate-800 rounded w-20"})]},s))})]})]})]})})}},4512:(e,s,r)=>{"use strict";r.d(s,{default:()=>l});var t=r(45512),a=r(10099);let i={default:"bg-white border border-gray-200 text-gray-900",muted:"bg-gray-50 border border-gray-200 text-gray-900",translucent:"bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-900",gradient:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 text-gray-900",outline:"bg-white border-2 border-gray-300 text-gray-900"};function l({className:e,children:s,padding:r="p-6",variant:l="default",...d}){return(0,t.jsx)("div",{className:(0,a.cn)("relative rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",i[l]||i.default,r,e),...d,children:s})}},42701:(e,s,r)=>{"use strict";r.d(s,{L:()=>t});let t=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)},64354:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/[id]/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/[id]/page.js","default")},70440:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[5994,2732,7254,8077,4880],()=>r(10750));module.exports=t})();