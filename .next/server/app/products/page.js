(()=>{var e={};e.id=3571,e.ids=[3571],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},59768:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=r(70260),t=r(28203),l=r(25155),i=r.n(l),n=r(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(s,o);let d=["",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,15386)),"/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"/Users/user/Desktop/RogueApe/work/jabistore/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/products/page",pathname:"/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37387:(e,s,r)=>{Promise.resolve().then(r.bind(r,56790))},13411:(e,s,r)=>{Promise.resolve().then(r.bind(r,58682))},58682:(e,s,r)=>{"use strict";r.d(s,{default:()=>g});var a=r(45512),t=r(58009),l=r(28531),i=r.n(l),n=r(44082),o=r(4512),d=r(79420);r(69529);var c=r(9031),u=r(10099),x=r(42701),m=r(11808);r(80513);let p=[{value:"featured",label:"Featured"},{value:"price-low",label:"Price: Low → High"},{value:"price-high",label:"Price: High → Low"},{value:"name",label:"Name A → Z"},{value:"newest",label:"Newest first"},{value:"rating",label:"Highest rated"}];function g({initialProducts:e,initialCategories:s,initialBrands:r}){let[l,g]=(0,t.useState)("All"),[b,f]=(0,t.useState)("All"),[y,v]=(0,t.useState)(""),[j,A]=(0,t.useState)({min:"",max:""}),[w,N]=(0,t.useState)(0),[C,k]=(0,t.useState)("featured"),[B,R]=(0,t.useState)(!1),[P,S]=(0,t.useState)(e||[]),[K,D]=(0,t.useState)(!1);(0,m.d)(y,500),(0,m.d)(j.min,500),(0,m.d)(j.max,500);let M=["All",...s?.map(e=>e.name)||[]],E=["All",...r?.map(e=>e.name)||[]],Q=["All"!==l,"All"!==b,j.min,j.max,w>0,!!y].filter(Boolean).length,z=(0,t.useMemo)(()=>P?"rating"!==C?P:[...P].sort((e,s)=>(s.averageRating||0)-(e.averageRating||0)):[],[P,C]);return(0,a.jsxs)("div",{className:"space-y-10 pb-12",children:[(0,a.jsxs)("section",{className:"relative overflow-hidden rounded-3xl border border-blue-900/20 bg-gradient-to-br from-blue-950 via-blue-900 to-slate-900 px-6 py-12 shadow-2xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,a.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute -top-20 right-0 h-64 w-64 rounded-full bg-blue-500/20 blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-10 left-10 h-48 w-48 rounded-full bg-indigo-500/15 blur-3xl"})]}),(0,a.jsxs)("div",{className:"relative z-10 max-w-3xl space-y-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-cyan-300 font-semibold",children:"Catalog"}),(0,a.jsx)("h1",{className:"text-3xl font-black text-white sm:text-5xl leading-tight",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-white via-blue-100 to-cyan-200 bg-clip-text text-transparent",children:"Smart technology marketplace"})}),(0,a.jsx)("p",{className:"text-base text-blue-100 leading-relaxed",children:"Filter laptops, phones, creator rigs, and smart home gear by brand, category, and budget. All items ship with Dilitech concierge support."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm",children:[(0,a.jsx)("span",{className:"rounded-full border border-cyan-400/50 bg-cyan-500/10 backdrop-blur-sm px-4 py-1.5 text-cyan-300 font-medium",children:"Live inventory"}),(0,a.jsx)("span",{className:"rounded-full border border-cyan-400/50 bg-cyan-500/10 backdrop-blur-sm px-4 py-1.5 text-cyan-300 font-medium",children:"Stripe & M-Pesa ready"}),(0,a.jsx)("span",{className:"rounded-full border border-cyan-400/50 bg-cyan-500/10 backdrop-blur-sm px-4 py-1.5 text-cyan-300 font-medium",children:"Warranty verified"})]})]})]}),(0,a.jsx)("section",{className:"px-4",children:(0,a.jsxs)(o.default,{className:"space-y-6 bg-white border-gray-200",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"relative w-full md:max-w-md",children:[(0,a.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Search products...",className:"w-full rounded-xl border border-gray-300 bg-white py-3 pl-11 pr-4 text-sm text-gray-900 placeholder:text-gray-400 focus:border-blue-900 focus:ring-2 focus:ring-blue-900/20 focus:outline-none transition-all"}),(0,a.jsx)("svg",{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,a.jsxs)("button",{onClick:()=>R(!B),className:(0,n.buttonClasses)({variant:"secondary",size:"sm",className:"justify-center"}),children:["Filters ",Q>0&&(0,a.jsx)("span",{className:"ml-2 rounded-full bg-blue-900 text-white px-2 py-0.5 text-xs font-semibold",children:Q})]}),(0,a.jsx)("select",{value:C,onChange:e=>k(e.target.value),className:"rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm text-gray-900 focus:border-blue-900 focus:ring-2 focus:ring-blue-900/20 focus:outline-none transition-all",children:p.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),B&&(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(h,{label:"Category",children:(0,a.jsx)("select",{value:l,onChange:e=>g(e.target.value),className:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-900 focus:ring-2 focus:ring-blue-900/20 focus:outline-none transition-all",children:M.map(e=>(0,a.jsx)("option",{children:e},e))})}),(0,a.jsx)(h,{label:"Brand",children:(0,a.jsx)("select",{value:b,onChange:e=>f(e.target.value),className:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-900 focus:ring-2 focus:ring-blue-900/20 focus:outline-none transition-all",children:E.map(e=>(0,a.jsx)("option",{children:e},e))})}),(0,a.jsx)(h,{label:"Price range",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"number",placeholder:"Min",value:j.min,onChange:e=>A(s=>({...s,min:e.target.value})),className:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 focus:border-blue-900 focus:ring-2 focus:ring-blue-900/20 focus:outline-none transition-all"}),(0,a.jsx)("input",{type:"number",placeholder:"Max",value:j.max,onChange:e=>A(s=>({...s,max:e.target.value})),className:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 focus:border-blue-900 focus:ring-2 focus:ring-blue-900/20 focus:outline-none transition-all"})]})}),(0,a.jsx)(h,{label:"Minimum rating",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>(0,a.jsx)("button",{onClick:()=>N(s=>s===e?0:e),className:(0,u.cn)("rounded-xl border border-gray-300 bg-white p-2 text-gray-400 transition-colors hover:border-blue-900 hover:text-blue-900",e<=w&&"border-amber-500 bg-amber-50 text-amber-600"),type:"button",children:"★"},e)),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-600",children:w>0?`${w}+ stars`:"Any rating"})]})})]}),Q>0&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>{g("All"),f("All"),A({min:"",max:""}),N(0),v(""),k("featured")},className:"text-xs uppercase tracking-[0.3em] text-gray-600 hover:text-blue-900 transition-colors font-semibold",children:"Clear filters"})})]})}),(0,a.jsxs)("section",{className:"px-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3 text-sm text-gray-600 md:flex-row md:items-center md:justify-between",children:(0,a.jsx)("p",{className:"font-medium",children:K?"Loading products…":`${z.length} result${1!==z.length?"s":""}`})}),K?(0,a.jsx)("div",{className:"mt-12 flex justify-center",children:(0,a.jsx)(d.k,{size:"lg"})}):0===z.length?(0,a.jsx)(o.default,{className:"mt-12 text-center text-gray-500 py-12",children:"No products match your filters yet."}):(0,a.jsx)("div",{className:"mt-12 grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:z.map(e=>(0,a.jsx)(i(),{href:`/products/${e.slug||e.id}`,className:"group block focus-visible:outline-none cursor-pointer",children:(0,a.jsxs)(o.default,{className:"flex flex-col gap-4 border-gray-200 group-hover:border-blue-900 group-hover:shadow-xl group-hover:-translate-y-1 transition-all duration-200 h-full",children:[(0,a.jsxs)("div",{className:"relative h-52 w-full overflow-hidden rounded-xl bg-gray-100",children:[(0,a.jsx)(c.OptimizedImage,{src:e.images?.[0]?.url||"/placeholder-product.jpg",alt:e.name,width:400,height:320,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.featured&&(0,a.jsx)("span",{className:"absolute left-3 top-3 rounded-full bg-blue-900 px-3 py-1 text-xs font-semibold text-white shadow-md",children:"Featured"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:e.brand?.name||"Dilitech"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900 group-hover:text-blue-900 transition-colors",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),(0,a.jsx)("div",{className:"mt-auto pt-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(0,x.L)(e.price)}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.category?.name||"Uncategorized"})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs pt-2 border-t border-gray-100",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:["Stock: ",(0,a.jsx)("span",{className:e.stock>0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:e.stock>0?`${e.stock} units`:"Out of stock"})]}),(0,a.jsxs)("span",{className:"text-gray-600",children:["★ ",(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:e.averageRating?.toFixed(1)||"0.0"})]})]})]})},e.id))})]})]})}function h({label:e,children:s}){return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-600 font-semibold",children:e}),s]})}},9031:(e,s,r)=>{"use strict";r.d(s,{A:()=>n,OptimizedImage:()=>i});var a=r(45512),t=r(45103),l=r(58009);let i=({src:e,alt:s,width:r,height:i,className:n="",priority:o=!1,placeholder:d="blur",...c})=>{let[u,x]=(0,l.useState)(!0),[m,p]=(0,l.useState)(!1),g="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q==",h=()=>{x(!1)},b=()=>{p(!0),x(!1)};return m?(0,a.jsx)("div",{className:`bg-gray-200 flex items-center justify-center ${n}`,style:{width:r||"100%",height:i||"auto",aspectRatio:r&&i?`${r}/${i}`:void 0},children:(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"Image unavailable"})}):r&&i?(0,a.jsxs)("div",{className:`relative ${n}`,style:{width:"100%",aspectRatio:`${r}/${i}`},children:[(0,a.jsx)(t.default,{src:e,alt:s,fill:!0,priority:o,placeholder:d,blurDataURL:g,onLoad:h,onError:b,className:`transition-opacity duration-300 object-cover ${u?"opacity-0":"opacity-100"}`,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...c}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):r&&!i?(0,a.jsxs)("div",{className:`relative ${n}`,style:{width:"100%",aspectRatio:"1"},children:[(0,a.jsx)(t.default,{src:e,alt:s,fill:!0,priority:o,placeholder:d,blurDataURL:g,onLoad:h,onError:b,className:`transition-opacity duration-300 object-cover ${u?"opacity-0":"opacity-100"}`,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",...c}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]}):(0,a.jsxs)("div",{className:`relative ${n}`,children:[(0,a.jsx)(t.default,{src:e,alt:s,width:800,height:600,priority:o,placeholder:d,blurDataURL:g,onLoad:h,onError:b,className:`transition-opacity duration-300 w-full h-auto ${u?"opacity-0":"opacity-100"}`,style:{width:"auto",height:"auto"},...c}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})})]})},n=i},69529:(e,s,r)=>{"use strict";r.d(s,{IX:()=>l,uL:()=>i,ud:()=>n});var a=r(45512);function t(){return(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"h-5 bg-slate-800 rounded w-32"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-1/2"})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-800",children:(0,a.jsx)("div",{className:"h-6 bg-slate-800 rounded w-24"})})]})}function l({count:e=5}){return(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,s)=>(0,a.jsx)(t,{},s))})}function i(){return(0,a.jsx)("div",{className:"min-h-screen bg-transparent text-gray-900",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-10 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-64"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-10",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-2xl"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:4}).map((e,s)=>(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-xl"},s))})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-24"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]})})]})]})})}function n(){return(0,a.jsx)("div",{className:"min-h-screen bg-transparent animate-pulse",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,a.jsx)("div",{className:"h-8 bg-slate-800 rounded w-48 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"space-y-6",children:Array.from({length:3}).map((e,s)=>(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,a.jsx)("div",{className:"h-6 bg-slate-800 rounded w-32 mb-4"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-3/4"})]})]},s))}),(0,a.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[(0,a.jsx)("div",{className:"h-6 bg-slate-800 rounded w-40 mb-6"}),(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:4}).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-24"}),(0,a.jsx)("div",{className:"h-4 bg-slate-800 rounded w-20"})]},s))})]})]})]})})}},4512:(e,s,r)=>{"use strict";r.d(s,{default:()=>i});var a=r(45512),t=r(10099);let l={default:"bg-white border border-gray-200 text-gray-900",muted:"bg-gray-50 border border-gray-200 text-gray-900",translucent:"bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-900",gradient:"bg-gradient-to-br from-white to-gray-50 border border-gray-200 text-gray-900",outline:"bg-white border-2 border-gray-300 text-gray-900"};function i({className:e,children:s,padding:r="p-6",variant:i="default",...n}){return(0,a.jsx)("div",{className:(0,t.cn)("relative rounded-2xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",l[i]||l.default,r,e),...n,children:s})}},42701:(e,s,r)=>{"use strict";r.d(s,{L:()=>a});let a=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(Number(e)||0)},11808:(e,s,r)=>{"use strict";r.d(s,{d:()=>t});var a=r(58009);function t(e,s=300){let[r,l]=(0,a.useState)(e);return r}},56790:(e,s,r)=>{"use strict";r.d(s,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/ProductsClient.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/Desktop/RogueApe/work/jabistore/src/app/products/ProductsClient.js","default")},15386:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n,metadata:()=>i});var a=r(62740),t=r(84574),l=r(56790);let i={title:"Products | Dilitech Solutions",description:"Browse our collection of premium electronics, laptops, phones, and smart technology. Quality products with exceptional service.",openGraph:{title:"Products | Dilitech Solutions",description:"Browse our collection of premium electronics and smart technology.",type:"website"}};async function n(){let[e,s,r]=await Promise.all([t.zR.product.findMany({where:{published:!0},include:{category:{select:{name:!0}},brand:{select:{name:!0}},images:{where:{isPrimary:!0},take:1},reviews:{select:{rating:!0}}},orderBy:{createdAt:"desc"},take:24}),t.zR.category.findMany({orderBy:{name:"asc"}}),t.zR.brand.findMany({orderBy:{name:"asc"}})]),i=e.map(e=>({...e,averageRating:e.reviews.length>0?e.reviews.reduce((e,s)=>e+s.rating,0)/e.reviews.length:0}));return(0,a.jsx)(l.default,{initialProducts:i,initialCategories:s,initialBrands:r})}},84574:(e,s,r)=>{"use strict";r.d(s,{zR:()=>t});var a=r(96330);let t=globalThis.prisma??new a.PrismaClient({log:["error"],datasources:{db:{url:process.env.DATABASE_URL}}})},70440:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});var a=r(88077);let t=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[5994,2732,7254,8077,4880],()=>r(59768));module.exports=a})();